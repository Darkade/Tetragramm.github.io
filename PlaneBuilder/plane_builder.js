var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.arrayFromIterator=function(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c};
$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(a){var b=function(){};b.prototype=a;return new b};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};
$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;
$jscomp.inherits=function(a,b){a.prototype=$jscomp.objectCreate(b.prototype);a.prototype.constructor=a;if($jscomp.setPrototypeOf){var c=$jscomp.setPrototypeOf;c(a,b)}else for(c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.superClass_=b.prototype};
var Stats=function(a){this.charge=this.fuel=this.bomb_mass=this.crashsafety=this.upkeep=this.toughness=this.wingarea=this.pitchboost=this.pitchspeed=this.structure=this.maxstrain=this.fuelconsumption=this.power=this.reliability=this.cooling=this.latstab=this.pitchstab=this.escape=this.flightstress=this.visibility=this.reqsections=this.cost=this.control=this.drag=this.mass=this.wetmass=this.liftbleed=0;this.warnings=[];a&&this.fromJSON(a)};
Stats.prototype.toJSON=function(){return{liftbleed:this.liftbleed,wetmass:this.wetmass,mass:this.mass,drag:this.drag,control:this.control,cost:this.cost,reqsections:this.reqsections,visibility:this.visibility,flightstress:this.flightstress,escape:this.escape,pitchstab:this.pitchstab,latstab:this.latstab,cooling:this.cooling,reliability:this.reliability,power:this.power,fuelconsumption:this.fuelconsumption,maxstrain:this.maxstrain,structure:this.structure,pitchboost:this.pitchboost,pitchspeed:this.pitchspeed,
wingarea:this.wingarea,toughness:this.toughness,upkeep:this.upkeep,crashsafety:this.crashsafety,bomb_mass:this.bomb_mass,fuel:this.fuel,charge:this.charge}};
Stats.prototype.fromJSON=function(a){a.liftbleed&&(this.liftbleed=a.liftbleed);a.wetmass&&(this.wetmass=a.wetmass);a.mass&&(this.mass=a.mass);a.drag&&(this.drag=a.drag);a.control&&(this.control=a.control);a.cost&&(this.cost=a.cost);a.reqsections&&(this.reqsections=a.reqsections);a.visibility&&(this.visibility=a.visibility);a.flightstress&&(this.flightstress=a.flightstress);a.escape&&(this.escape=a.escape);a.pitchstab&&(this.pitchstab=a.pitchstab);a.latstab&&(this.latstab=a.latstab);a.cooling&&(this.cooling=
a.cooling);a.reliability&&(this.reliability=a.reliability);a.power&&(this.power=a.power);a.fuelconsumption&&(this.fuelconsumption=a.fuelconsumption);a.maxstrain&&(this.maxstrain=a.maxstrain);a.structure&&(this.structure=a.structure);a.pitchspeed&&(this.pitchspeed=a.pitchspeed);a.pitchboost&&(this.pitchboost=a.pitchboost);a.wingarea&&(this.wingarea=a.wingarea);a.toughness&&(this.toughness=a.toughness);a.upkeep&&(this.upkeep=a.upkeep);a.crashsafety&&(this.crashsafety=a.crashsafety);a.bomb_mass&&(this.bomb_mass=
a.bomb_mass);a.fuel&&(this.fuel=a.fuel);a.charge&&(this.charge=a.charge);a.warning&&this.warnings.push({source:a.name,warning:a.warning})};
Stats.prototype.Add=function(a){var b=new Stats;b.liftbleed=this.liftbleed+a.liftbleed;b.wetmass=this.wetmass+a.wetmass;b.mass=this.mass+a.mass;b.drag=this.drag+a.drag;b.control=this.control+a.control;b.cost=this.cost+a.cost;b.reqsections=this.reqsections+a.reqsections;b.visibility=this.visibility+a.visibility;b.flightstress=this.flightstress+a.flightstress;b.escape=this.escape+a.escape;b.pitchstab=this.pitchstab+a.pitchstab;b.latstab=this.latstab+a.latstab;b.cooling=this.cooling+a.cooling;b.reliability=
this.reliability+a.reliability;b.power=this.power+a.power;b.fuelconsumption=this.fuelconsumption+a.fuelconsumption;b.maxstrain=this.maxstrain+a.maxstrain;b.structure=this.structure+a.structure;b.pitchboost=this.pitchboost+a.pitchboost;b.pitchspeed=this.pitchspeed+a.pitchspeed;b.wingarea=this.wingarea+a.wingarea;b.toughness=this.toughness+a.toughness;b.upkeep=this.upkeep+a.upkeep;b.crashsafety=this.crashsafety+a.crashsafety;b.bomb_mass=this.bomb_mass+a.bomb_mass;b.fuel=this.fuel+a.fuel;b.charge=this.charge+
a.charge;b.warnings=this.MergeWarnings(a.warnings);return b};Stats.prototype.MergeWarnings=function(a){for(var b=[],c=$jscomp.makeIterator(this.warnings),d=c.next();!d.done;d=c.next())b.push(d.value);a=$jscomp.makeIterator(a);for(d=a.next();!d.done;d=a.next()){c=d.value;var e=!1,f=$jscomp.makeIterator(this.warnings);for(d=f.next();!d.done;d=f.next())d=d.value,c.source==d.source&&c.warning==d.warning&&(e=!0);e||b.push(c)}return b};
Stats.prototype.Multiply=function(a){var b=new Stats;b.liftbleed=this.liftbleed*a;b.wetmass=this.wetmass*a;b.mass=this.mass*a;b.drag=this.drag*a;b.control=this.control*a;b.cost=this.cost*a;b.reqsections=this.reqsections*a;b.visibility=this.visibility*a;b.flightstress=this.flightstress*a;b.escape=this.escape*a;b.pitchstab=this.pitchstab*a;b.latstab=this.latstab*a;b.cooling=this.cooling*a;b.reliability=this.reliability*a;b.power=this.power*a;b.fuelconsumption=this.fuelconsumption*a;b.maxstrain=this.maxstrain*
a;b.structure=this.structure*a;b.pitchboost=this.pitchboost*a;b.pitchspeed=this.pitchspeed*a;b.wingarea=this.wingarea*a;b.toughness=this.toughness*a;b.upkeep=this.upkeep*a;b.crashsafety=this.crashsafety*a;b.bomb_mass=this.bomb_mass*a;b.fuel=this.fuel*a;b.charge=this.charge*a;0!=a&&(b.warnings=this.warnings);return b};
Stats.prototype.Equal=function(a){return this.liftbleed==a.liftbleed&&this.wetmass==a.wetmass&&this.mass==a.mass&&this.drag==a.drag&&this.control==a.control&&this.cost==a.cost&&this.reqsections==a.reqsections&&this.visibility==a.visibility&&this.flightstress==a.flightstress&&this.escape==a.escape&&this.pitchstab==a.pitchstab&&this.latstab==a.latstab&&this.cooling==a.cooling&&this.reliability==a.reliability&&this.power==a.power&&this.fuelconsumption==a.fuelconsumption&&this.maxstrain==a.maxstrain&&
this.structure==a.structure&&this.pitchspeed==a.pitchspeed&&this.pitchboost==a.pitchboost&&this.wingarea==a.wingarea&&this.toughness==a.toughness&&this.upkeep==a.upkeep&&this.crashsafety==a.crashsafety&&this.bomb_mass==a.bomb_mass&&this.fuel==a.fuel&&this.charge==a.charge};
Stats.prototype.Round=function(){this.liftbleed=Math.floor(this.liftbleed);this.wetmass=Math.floor(this.wetmass);this.mass=Math.floor(this.mass);this.drag=Math.floor(this.drag);this.control=Math.floor(this.control);this.cost=Math.floor(this.cost);this.reqsections=Math.floor(this.reqsections);this.visibility=Math.floor(this.visibility);this.flightstress=Math.floor(this.flightstress);this.escape=Math.floor(this.escape);this.pitchstab=Math.floor(this.pitchstab);this.latstab=Math.floor(this.latstab);
this.cooling=Math.floor(this.cooling);this.reliability=Math.floor(this.reliability);this.power=Math.floor(this.power);this.fuelconsumption=Math.floor(this.fuelconsumption);this.maxstrain=Math.floor(this.maxstrain);this.structure=Math.floor(this.structure);this.pitchspeed=Math.floor(this.pitchspeed);this.pitchboost=Math.floor(this.pitchboost);this.wingarea=Math.floor(this.wingarea);this.toughness=Math.floor(this.toughness);this.upkeep=Math.floor(this.upkeep);this.crashsafety=Math.floor(this.crashsafety);
this.bomb_mass=Math.floor(this.bomb_mass);this.fuel=Math.floor(this.fuel);this.charge=Math.floor(this.charge)};Stats.prototype.Clone=function(){return this.Add(new Stats)};var Part=function(){},Era=function(a){Part.call(this);this.selected=0;this.vals=[];a=$jscomp.makeIterator(a.options);for(var b=a.next();!b.done;b=a.next())b=b.value,b={name:b.name,value:parseInt(b.liftbleed)},this.vals.push(b)};$jscomp.inherits(Era,Part);Era.prototype.toJSON=function(){return{selected:this.selected}};
Era.prototype.fromJSON=function(a){this.selected=a.selected};Era.prototype.GetSelected=function(){return this.selected};Era.prototype.SetSelected=function(a){this.selected=a;this.CalculateStats()};Era.prototype.GetEraOptions=function(){return this.vals};Era.prototype.GetLiftBleed=function(){return this.vals[this.selected].value};Era.prototype.PartStats=function(){var a=new Stats;a.liftbleed=this.GetLiftBleed();return a};Era.prototype.SetCalculateStats=function(a){this.CalculateStats=a};
var Cockpit=function(a,b,c,d){Part.call(this);this.stats=new Stats;this.types=a;this.upgrades=b;this.safety=c;this.gunsights=d;this.selected_type=0;this.selected_upgrades=[].concat($jscomp.arrayFromIterable(Array(this.upgrades.length).fill(!1)));this.selected_safety=[].concat($jscomp.arrayFromIterable(Array(this.safety.length).fill(!1)));this.selected_gunsights=[].concat($jscomp.arrayFromIterable(Array(this.gunsights.length).fill(!1)));this.total_visibility=this.total_escape=this.total_stress=0};
$jscomp.inherits(Cockpit,Part);Cockpit.prototype.toJSON=function(){return{type:this.selected_type,upgrades:this.selected_upgrades,safety:this.selected_safety}};Cockpit.prototype.fromJSON=function(a){this.selected_type=a.type;this.selected_upgrades=a.upgrades;this.selected_safety=a.safety};Cockpit.prototype.GetTypeList=function(){return this.types};Cockpit.prototype.GetUpgradeList=function(){return this.upgrades};Cockpit.prototype.GetSafetyList=function(){return this.safety};
Cockpit.prototype.GetGunsightList=function(){return this.gunsights};Cockpit.prototype.GetType=function(){return this.selected_type};Cockpit.prototype.SetType=function(a){if(a>=this.types.length)throw"Selected type is not in range of actual types.";this.selected_type=a;this.CalculateStats()};Cockpit.prototype.GetSelectedUpgrades=function(){return this.selected_upgrades};
Cockpit.prototype.SetUpgrade=function(a,b){if(a>=this.upgrades.length)throw"Selected type is not in range of actual upgrades.";this.selected_upgrades[a]=b;this.CalculateStats()};Cockpit.prototype.GetSelectedSafety=function(){return this.selected_safety};Cockpit.prototype.SetSafety=function(a,b){if(a>=this.safety.length)throw"Selected type is not in range of actual safties.";this.selected_safety[a]=b;this.CalculateStats()};Cockpit.prototype.GetSelectedGunsights=function(){return this.selected_gunsights};
Cockpit.prototype.SetGunsight=function(a,b){if(a>=this.safety.length)throw"Selected type is not in range of actual gunsights.";this.selected_gunsights[a]=b;this.CalculateStats()};Cockpit.prototype.GetVisibility=function(){return this.total_visibility};Cockpit.prototype.GetFlightStress=function(){return this.total_stress};Cockpit.prototype.GetEscape=function(){return this.total_escape};
Cockpit.prototype.PartStats=function(){this.stats=new Stats;this.stats.reqsections=1;this.stats=this.stats.Add(this.types[this.selected_type].stats);for(var a=0;a<this.selected_upgrades.length;a++)this.selected_upgrades[a]&&(this.stats=this.stats.Add(this.upgrades[a].stats));for(a=0;a<this.selected_safety.length;a++)this.selected_safety[a]&&(this.stats=this.stats.Add(this.safety[a].stats));for(a=0;a<this.selected_gunsights.length;a++)this.selected_gunsights[a]&&(this.stats=this.stats.Add(this.gunsights[a].stats));
a=new Stats;return a=a.Add(this.stats)};Cockpit.prototype.CrewUpdate=function(a,b,c){this.total_escape=this.stats.escape+a;this.total_stress=this.stats.flightstress+b;this.total_stress=Math.max(0,this.total_stress);this.total_visibility=this.stats.visibility+c};Cockpit.prototype.SetCalculateStats=function(a){this.CalculateStats=a};
var Cockpits=function(a){Part.call(this);this.positions=[];this.types=[];for(var b=$jscomp.makeIterator(a.options),c=b.next();!c.done;c=b.next())c=c.value,c={name:c.name,stats:new Stats(c)},this.types.push(c);this.upgrades=[];b=$jscomp.makeIterator(a.upgrades);for(c=b.next();!c.done;c=b.next())c=c.value,c={name:c.name,stats:new Stats(c)},this.upgrades.push(c);this.safety=[];b=$jscomp.makeIterator(a.safety);for(c=b.next();!c.done;c=b.next())c=c.value,c={name:c.name,stats:new Stats(c)},this.safety.push(c);
this.gunsights=[];a=$jscomp.makeIterator(a.gunsights);for(c=a.next();!c.done;c=a.next())c=c.value,c={name:c.name,stats:new Stats(c)},this.gunsights.push(c)};$jscomp.inherits(Cockpits,Part);Cockpits.prototype.toJSON=function(){for(var a=[],b=$jscomp.makeIterator(this.positions),c=b.next();!c.done;c=b.next())a.push(c.value.toJSON());return{positions:a}};
Cockpits.prototype.fromJSON=function(a){this.positions=[];a=$jscomp.makeIterator(a.positions);for(var b=a.next();!b.done;b=a.next()){b=b.value;var c=new Cockpit(this.types,this.upgrades,this.safety,this.gunsights);c.fromJSON(b);c.SetCalculateStats(this.CalculateStats);this.positions.push(c)}};Cockpits.prototype.GetAttackList=function(){for(var a=[],b=$jscomp.makeIterator(this.positions),c=b.next();!c.done;c=b.next())a.push(0);return a};
Cockpits.prototype.GetVisibilityList=function(){for(var a=[],b=$jscomp.makeIterator(this.positions),c=b.next();!c.done;c=b.next())a.push(c.value.GetVisibility());return a};Cockpits.prototype.GetStressList=function(){for(var a=[],b=$jscomp.makeIterator(this.positions),c=b.next();!c.done;c=b.next())a.push(c.value.GetFlightStress());return a};Cockpits.prototype.GetEscapeList=function(){for(var a=[],b=$jscomp.makeIterator(this.positions),c=b.next();!c.done;c=b.next())a.push(c.value.GetEscape());return a};
Cockpits.prototype.SetNumberOfCockpits=function(a){a!=a&&(a=1);for(a=Math.floor(a);this.positions.length>a;)this.positions.pop();for(;this.positions.length<a;){var b=new Cockpit(this.types,this.upgrades,this.safety,this.gunsights);b.SetCalculateStats(this.CalculateStats);this.positions.push(b)}this.CalculateStats()};Cockpits.prototype.GetNumberOfCockpits=function(){return this.positions.length};Cockpits.prototype.GetCockpit=function(a){return this.positions[a]};
Cockpits.prototype.PartStats=function(){for(var a=new Stats,b=$jscomp.makeIterator(this.positions),c=b.next();!c.done;c=b.next())a=a.Add(c.value.PartStats());a.escape=0;a.flightstress=0;a.visibility=0;return a};Cockpits.prototype.UpdateCrewStats=function(a,b,c){for(var d=$jscomp.makeIterator(this.positions),e=d.next();!e.done;e=d.next())e.value.CrewUpdate(a,b,c)};Cockpits.prototype.SetCalculateStats=function(a){this.CalculateStats=a};
var Passengers=function(a){Part.call(this);this.beds=this.seats=0;this.connected=!1};$jscomp.inherits(Passengers,Part);Passengers.prototype.toJSON=function(){return{seats:this.seats,beds:this.beds,connected:this.connected}};Passengers.prototype.fromJSON=function(a){this.seats=a.seats;this.beds=a.beds;this.connected=a.connected};Passengers.prototype.GetSeats=function(){return this.seats};Passengers.prototype.SetSeats=function(a){a!=a&&(a=0);this.seats=a=Math.floor(a);this.CalculateStats()};
Passengers.prototype.GetBeds=function(){return this.beds};Passengers.prototype.SetBeds=function(a){a!=a&&(a=0);this.beds=a=Math.floor(a);this.CalculateStats()};Passengers.prototype.PossibleConnection=function(){return 0<this.seats+this.beds};Passengers.prototype.GetConnected=function(){return this.connected};Passengers.prototype.SetConnected=function(a){this.connected=a;this.CalculateStats()};
Passengers.prototype.PartStats=function(){var a=new Stats;a.reqsections=2*Math.ceil((this.seats+2*this.beds)/5);0<this.seats+this.beds&&this.connected&&(a.mass=1);return a};Passengers.prototype.SetCalculateStats=function(a){this.CalculateStats=a};var EngineStats=function(a){this.name="";this.rumble=this.torque=this.altitude=this.overspeed=0;this.pulsejet=this.oiltank=!1;this.stats=new Stats;a&&this.fromJSON(a)};
EngineStats.prototype.toJSON=function(){return Object.assign({name:this.name,overspeed:this.overspeed,altitude:this.altitude,torque:this.torque,rumble:this.rumble,oiltank:this.oiltank,pulsejet:this.pulsejet},this.stats.toJSON())};EngineStats.prototype.fromJSON=function(a){this.name=a.name;this.overspeed=a.overspeed;this.altitude=a.altitude;this.torque=a.torque;this.rumble=a.rumble;this.oiltank=a.oiltank;this.pulsejet=a.pulsejet;this.stats=new Stats(a)};
EngineStats.prototype.Add=function(a){var b=new EngineStats;b.stats=this.stats.Add(a.stats);b.name=this.name;b.overspeed=this.overspeed+a.overspeed;b.altitude=this.altitude+a.altitude;b.torque=this.torque+a.torque;b.rumble=this.rumble+a.rumble;b.oiltank=this.oiltank||a.oiltank;b.pulsejet=this.pulsejet||a.pulsejet;return b};EngineStats.prototype.Clone=function(){return this.Add(new EngineStats)};
EngineStats.prototype.Equal=function(a){return this.stats.Equal(a.stats)&&this.overspeed==a.overspeed&&this.altitude==a.altitude&&this.torque==a.torque&&this.rumble==a.rumble&&this.oiltank==a.oiltank&&this.pulsejet==a.pulsejet};
var Engine=function(a,b,c,d){Part.call(this);this.engine_list=a;this.selected_index=0;this.etype_stats=this.engine_list[0].Clone();this.cooling_count=this.etype_stats.stats.cooling;this.radiator_index=-1;0<this.cooling_count&&(this.radiator_index=0);this.num_radiators=0;this.mount_list=b;this.selected_mount=0;this.mount_stats=this.mount_list[0].stats;this.pp_list=c;this.torque_to_struct=this.use_pp=!1;this.cowl_list=d;this.total_reliability=this.gpr_count=this.gp_count=this.cowl_sel=0;if(0>=a.length)throw"No Engine Stats Found.  Should be at least one.";
};$jscomp.inherits(Engine,Part);Engine.prototype.toJSON=function(){return{selected_stats:this.etype_stats.toJSON(),cooling_count:this.cooling_count,radiator_index:this.radiator_index,selected_mount:this.selected_mount,use_pushpull:this.use_pp,pp_torque_to_struct:this.torque_to_struct,use_driveshafts:this.use_ds,geared_propeller_ratio:this.gp_count,geared_propeller_reliability:this.gpr_count,cowl_sel:this.cowl_sel}};
Engine.prototype.fromJSON=function(a){this.etype_stats.fromJSON(a.selected_stats);this.cooling_count=a.cooling_count;this.radiator_index=a.radiator_index;this.selected_mount=a.selected_mount;this.use_pp=a.use_pushpull;this.torque_to_struct=a.pp_torque_to_struct;this.use_ds=a.use_driveshafts;this.gp_count=a.geared_propeller_ratio;this.gpr_count=a.geared_propeller_reliability;this.cowl_sel=a.cowl_sel;this.selected_index=-1;for(a=0;a<this.engine_list.length;a++)if(this.etype_stats.Equal(this.engine_list[a])){this.selected_index=
a;break}};Engine.prototype.GetMaxAltitude=function(){return this.etype_stats.altitude};Engine.prototype.SetSelectedIndex=function(a){this.selected_index=a;this.etype_stats=this.engine_list[this.selected_index].Clone();if(a>=this.engine_list.length)throw"Index is out of range of engine_list.";this.PulseJetCheck();this.VerifyCowl(this.cowl_sel);this.cooling_count=this.etype_stats.stats.cooling;this.CalculateStats()};Engine.prototype.GetSelectedIndex=function(){return this.selected_index};
Engine.prototype.SetCustomStats=function(a){this.selected_index=-1;this.etype_stats=a;this.PulseJetCheck();this.cooling_count=Math.min(this.cooling_count,this.etype_stats.stats.cooling);this.VerifyCowl(this.cowl_sel);this.CalculateStats()};Engine.prototype.GetCurrentStats=function(){var a=new EngineStats;return a=a.Add(this.etype_stats)};Engine.prototype.NeedCooling=function(){return 0<this.cooling_count};Engine.prototype.WarnCoolingReliability=function(){return this.cooling_count<this.etype_stats.stats.cooling};
Engine.prototype.SetCooling=function(a){a!=a&&(a=0);this.cooling_count=a=Math.floor(a);this.CalculateStats()};Engine.prototype.GetCooling=function(){return this.cooling_count};Engine.prototype.SetNumRadiators=function(a){this.num_radiators=a;this.radiator_index>=a&&(this.radiator_index=a-1);0>this.radiator_index&&0<a&&(this.radiator_index=0)};Engine.prototype.GetNumRadiators=function(){return this.num_radiators};Engine.prototype.SetRadiator=function(a){this.radiator_index=a;this.CalculateStats()};
Engine.prototype.GetRadiator=function(){return this.radiator_index};Engine.prototype.GetListOfEngines=function(){return this.engine_list};Engine.prototype.RequiresExtendedDriveshafts=function(){return this.mount_list[this.selected_mount].reqED};Engine.prototype.RequiresTailMod=function(){return this.use_ds?!1:this.mount_list[this.selected_mount].reqTail};
Engine.prototype.SetMountIndex=function(a){if(a>=this.mount_list.length)throw"Index outside of mount_list range.";this.selected_mount=a;this.mount_stats=this.mount_list[a].stats;this.mount_list[this.selected_mount].reqED&&this.SetUseExtendedDriveshaft(!0);this.CalculateStats()};Engine.prototype.GetMountIndex=function(){return this.GetIsPulsejet()?-1:this.selected_mount};Engine.prototype.SetUsePushPull=function(a){this.use_pp=a;this.CalculateStats()};Engine.prototype.GetUsePushPull=function(){return this.use_pp};
Engine.prototype.GetMountList=function(){return this.mount_list};Engine.prototype.SetUseExtendedDriveshaft=function(a){this.use_ds=a||this.RequiresExtendedDriveshafts();this.CalculateStats()};Engine.prototype.GetUseExtendedDriveshaft=function(){return this.use_ds};Engine.prototype.SetGearCount=function(a){a!=a&&(a=0);this.gp_count=a=Math.floor(a);this.SetGearReliability(this.gpr_count)};Engine.prototype.GetGearCount=function(){return this.gp_count};
Engine.prototype.SetGearReliability=function(a){a!=a&&(a=0);a=Math.floor(a);this.gpr_count=Math.min(a,this.gp_count);this.CalculateStats()};Engine.prototype.GetGearReliability=function(){return this.gpr_count};Engine.prototype.SetTorqueToStruct=function(a){this.torque_to_struct=a;this.use_pp||(this.torque_to_struct=!1);this.CalculateStats()};Engine.prototype.GetTorqueToStruct=function(){return this.torque_to_struct};
Engine.prototype.CanTorqueToStruct=function(){return this.use_pp&&0<this.etype_stats.torque&&"wing"==this.mount_list[this.selected_mount].pp_type};Engine.prototype.UpdateReliability=function(a){this.total_reliability=this.etype_stats.stats.reliability;this.total_reliability-=this.gp_count-this.gpr_count;this.NeedCooling()&&(this.total_reliability-=this.etype_stats.stats.cooling-this.cooling_count);this.total_reliability+=a};Engine.prototype.GetReliability=function(){return this.total_reliability};
Engine.prototype.GetOverspeed=function(){return this.etype_stats.overspeed+Math.floor(this.gp_count*this.etype_stats.overspeed/2)};Engine.prototype.GetIsPulsejet=function(){return this.etype_stats.pulsejet};
Engine.prototype.PulseJetCheck=function(){if(this.GetIsPulsejet()){if(this.etype_stats.stats.cooling=0,this.etype_stats.overspeed=100,this.etype_stats.altitude=100,this.etype_stats.torque=0,this.use_ds=this.use_pp=!1,this.cooling_count=this.gpr_count=this.gp_count=0,"fuselage"==this.mount_list[this.selected_mount].pp_type)for(var a=0;a<this.mount_list.length&&(this.selected_mount=a,"fuselage"==this.mount_list[this.selected_mount].pp_type);a++);}else this.etype_stats.rumble=0};
Engine.prototype.GetHavePropeller=function(){return!this.GetIsPulsejet()};Engine.prototype.GetIsTractorNacelle=function(){return this.GetIsPulsejet()||this.GetUsePushPull()||"wing"!=this.mount_list[this.selected_mount].pp_type?!1:!0};Engine.prototype.SetCalculateStats=function(a){this.CalculateStats=a};Engine.prototype.GetCowlList=function(){return this.cowl_list};Engine.prototype.GetCowl=function(){return this.cowl_sel};
Engine.prototype.GetCowlEnabled=function(){for(var a=[],b=$jscomp.makeIterator(this.cowl_list),c=b.next();!c.done;c=b.next())c=c.value,this.GetIsPulsejet()?a.push(c.air&&c.rotary&&c.liquid):this.NeedCooling()?a.push(c.liquid):this.etype_stats.oiltank?a.push(c.rotary):a.push(c.air);return a};Engine.prototype.VerifyCowl=function(a){var b=this.GetCowlEnabled();b[a]?this.cowl_sel=a:b[this.cowl_sel]||(this.cowl_sel=0)};Engine.prototype.SetCowl=function(a){this.VerifyCowl(a);this.CalculateStats()};
Engine.prototype.PartStats=function(){var a=new Stats;a=a.Add(this.etype_stats.stats);this.etype_stats.oiltank&&(a.mass+=1);"fuselage"==this.mount_list[this.selected_mount].pp_type?a.latstab-=this.etype_stats.torque:"wing"==this.mount_list[this.selected_mount].pp_type&&(this.torque_to_struct?a.structure-=this.etype_stats.torque:a.maxstrain-=this.etype_stats.torque);a.structure-=this.etype_stats.rumble;a.flightstress+=this.etype_stats.rumble;if(this.use_pp){var b=this.mount_list[this.selected_mount].pp_type;
a.power*=2;a.mass*=2;a.cooling*=2;a.fuelconsumption*=2;a.cost*=2;a.latstab*=2;a.structure*=2;a.maxstrain*=2;a.power=Math.floor(this.pp_list[b].powerfactor*a.power)}a=a.Add(this.cowl_list[this.cowl_sel].stats);a.mass+=Math.floor(a.mass*this.cowl_list[this.cowl_sel].mpd);a.drag=Math.floor(a.drag*this.cowl_list[this.cowl_sel].ed);0!=this.cowl_sel&&this.mount_list[this.selected_mount].reqTail&&(a.cost+=2);this.etype_stats.pulsejet||(a=a.Add(this.mount_stats),a.maxstrain-=Math.floor(this.mount_list[this.selected_mount].strainfactor*
this.etype_stats.stats.mass),a.drag+=Math.floor(this.mount_list[this.selected_mount].dragfactor*this.etype_stats.stats.mass));this.use_ds&&(a.mass+=Math.floor(a.power/10),a.cost+=2*Math.floor(a.power/10));a.cost+=this.gp_count+this.gpr_count;a.reliability=0;return a};
var Engines=function(a,b){Part.call(this);this.engines=[];this.engine_stats=[];this.radiators=[];for(var c=$jscomp.makeIterator(b.engines),d=c.next();!d.done;d=c.next())this.engine_stats.push(new EngineStats(d.value));this.mount_list=[];c=$jscomp.makeIterator(a.mounts);for(d=c.next();!d.done;d=c.next()){d=d.value;var e={name:d.name,stats:new Stats(d),strainfactor:d.strainfactor,dragfactor:d.dragfactor,pp_type:d["push-pull"],reqED:!1,reqTail:!1};d.reqED&&(e.reqED=!0);d.reqTail&&(e.reqTail=!0);this.mount_list.push(e)}this.pp_list=
[];c=$jscomp.makeIterator(a["push-pull"]);for(d=c.next();!d.done;d=c.next())d=d.value,this.pp_list[d.type]={name:d.name,powerfactor:d.powerfactor};this.is_asymmetric=!1;this.r_type_list=[];c=$jscomp.makeIterator(a["radiator-type"]);for(d=c.next();!d.done;d=c.next())d=d.value,this.r_type_list.push({name:d.name,stats:new Stats(d),dragpercool:parseFloat(d.dragpercool)});this.r_mount_list=[];c=$jscomp.makeIterator(a["radiator-mount"]);for(d=c.next();!d.done;d=c.next())d=d.value,this.r_mount_list.push({name:d.name,
stats:new Stats(d)});this.r_coolant_list=[];c=$jscomp.makeIterator(a["radiator-coolant"]);for(d=c.next();!d.done;d=c.next())d=d.value,this.r_coolant_list.push({name:d.name,stats:new Stats(d)});this.cowl_list=[];c=$jscomp.makeIterator(a.cowling);for(d=c.next();!d.done;d=c.next())d=d.value,this.cowl_list.push({name:d.name,stats:new Stats(d),ed:d.ed,mpd:d.mpd,air:d.air,liquid:d.liquid,rotary:d.rotary})};$jscomp.inherits(Engines,Part);
Engines.prototype.toJSON=function(){for(var a=[],b=$jscomp.makeIterator(this.engines),c=b.next();!c.done;c=b.next())a.push(c.value.toJSON());b=[];c=$jscomp.makeIterator(this.radiators);for(var d=c.next();!d.done;d=c.next())b.push(d.value.toJSON());return{engines:a,radiators:b,is_asymmetric:this.is_asymmetric}};
Engines.prototype.fromJSON=function(a){this.radiators=[];for(var b=$jscomp.makeIterator(a.radiators),c=b.next();!c.done;c=b.next()){c=c.value;var d=new Radiator(this.r_type_list,this.r_mount_list,this.r_coolant_list);d.fromJSON(c);d.SetCalculateStats(this.CalculateStats);this.radiators.push(d)}this.engines=[];b=$jscomp.makeIterator(a.engines);for(c=b.next();!c.done;c=b.next())c=c.value,d=new Engine(this.engine_stats,this.mount_list,this.pp_list,this.cowl_list),d.fromJSON(c),d.SetCalculateStats(this.CalculateStats),
this.engines.push(d),d.SetNumRadiators(this.GetNumberOfRadiators());this.is_asymmetric=a.is_asymmetric};Engines.prototype.GetHasOilTank=function(){for(var a=$jscomp.makeIterator(this.engines),b=a.next();!b.done;b=a.next())if(b.value.GetCurrentStats().oiltank)return!0;return!1};Engines.prototype.GetReliabilityList=function(){for(var a=[],b=$jscomp.makeIterator(this.engines),c=b.next();!c.done;c=b.next())a.push(c.value.GetReliability());return a};
Engines.prototype.GetMaxAltitude=function(){for(var a=100,b=$jscomp.makeIterator(this.engines),c=b.next();!c.done;c=b.next())a=Math.min(a,c.value.GetMaxAltitude());return a};Engines.prototype.SetNumberOfEngines=function(a){a!=a&&(a=0);a=Math.floor(a);for(a=Math.min(20,a);this.engines.length>a;)this.engines.pop();for(;this.engines.length<a;){var b=new Engine(this.engine_stats,this.mount_list,this.pp_list,this.cowl_list);b.SetCalculateStats(this.CalculateStats);this.engines.push(b);b.SetNumRadiators(this.GetNumberOfRadiators())}this.CalculateStats()};
Engines.prototype.GetNumberOfEngines=function(){return this.engines.length};Engines.prototype.GetEngine=function(a){return this.engines[a]};Engines.prototype.GetRadiator=function(a){return this.radiators[a]};
Engines.prototype.SetNumberOfRadiators=function(a){a!=a&&(a=0);for(a=Math.floor(a);this.radiators.length>a;)this.radiators.pop();for(;this.radiators.length<a;){var b=new Radiator(this.r_type_list,this.r_mount_list,this.r_coolant_list);b.SetCalculateStats(this.CalculateStats);this.radiators.push(b)}b=$jscomp.makeIterator(this.engines);for(var c=b.next();!c.done;c=b.next())c.value.SetNumRadiators(a);this.CalculateStats()};
Engines.prototype.GetNumberOfRadiators=function(){0==this.radiators.length&&this.NeedCooling()?this.SetNumberOfRadiators(1):0<this.radiators.length&&!this.NeedCooling()&&this.SetNumberOfRadiators(0);return this.radiators.length};Engines.prototype.NeedCooling=function(){for(var a=!1,b=$jscomp.makeIterator(this.engines),c=b.next();!c.done;c=b.next())c=c.value,a=a||c.NeedCooling();return a};
Engines.prototype.UpdateReliability=function(a){for(var b=$jscomp.makeIterator(this.engines),c=b.next();!c.done;c=b.next()){c=c.value;var d=new Stats;c.GetRadiator()<this.radiators.length&&0<=c.GetRadiator()&&(d=this.radiators[c.GetRadiator()].PartStats());c.UpdateReliability(a.reliability+d.reliability)}};Engines.prototype.SetAsymmetry=function(a){this.is_asymmetric=a;this.CalculateStats()};Engines.prototype.GetAsymmetry=function(){return this.is_asymmetric};
Engines.prototype.GetHavePropeller=function(){for(var a=$jscomp.makeIterator(this.engines),b=a.next();!b.done;b=a.next())if(b.value.GetHavePropeller())return!0;return!1};Engines.prototype.GetOverspeed=function(){for(var a=100,b=$jscomp.makeIterator(this.engines),c=b.next();!c.done;c=b.next())a=Math.min(a,c.value.GetOverspeed());return a};
Engines.prototype.PartStats=function(){for(var a=new Stats,b=[].concat($jscomp.arrayFromIterable(Array(this.radiators.length).fill(0))),c=$jscomp.makeIterator(this.engines),d=c.next();!d.done;d=c.next())d=d.value,a=a.Add(d.PartStats()),d.NeedCooling()&&(b[d.GetRadiator()]+=d.GetCooling());a.upkeep=Math.floor(Math.min(a.power/10,a.cost));for(c=0;c<this.radiators.length;c++)d=this.radiators[c],d.SetNeedCool(b[c]),a=a.Add(d.PartStats());this.is_asymmetric&&(a.latstab-=3);a.reliability=0;return a};
Engines.prototype.SetCalculateStats=function(a){this.CalculateStats=a};Engines.prototype.GetHasTractorNacelles=function(){for(var a=0,b=$jscomp.makeIterator(this.engines),c=b.next();!c.done;c=b.next())c.value.GetIsTractorNacelle()&&a++;return 1<a};
var Propeller=function(a){Part.call(this);this.idx_prop=2;this.use_variable=!1;this.have_propellers=!0;this.prop_list=[];a=$jscomp.makeIterator(a.props);for(var b=a.next();!b.done;b=a.next())b=b.value,this.prop_list.push({name:b.name,stats:new Stats(b),automatic:b.automatic})};$jscomp.inherits(Propeller,Part);Propeller.prototype.toJSON=function(){return{type:this.idx_prop,use_variable:this.use_variable}};Propeller.prototype.fromJSON=function(a){this.idx_prop=a.type;this.use_variable=a.use_variable};
Propeller.prototype.GetPropList=function(){return this.prop_list};Propeller.prototype.SetPropIndex=function(a){this.idx_prop=a;this.prop_list[a].automatic&&(this.use_variable=!1);this.CalculateStats()};Propeller.prototype.GetPropIndex=function(){return this.idx_prop};Propeller.prototype.SetVariable=function(a){this.use_variable=this.prop_list[this.idx_prop].automatic?!1:a;this.CalculateStats()};Propeller.prototype.GetVariable=function(){return this.use_variable};
Propeller.prototype.CanBeVariable=function(){return!this.prop_list[this.idx_prop].automatic};Propeller.prototype.SetHavePropeller=function(a){this.have_propellers=a};Propeller.prototype.GetHavePropeller=function(){return this.have_propellers};Propeller.prototype.PartStats=function(){var a=new Stats;this.have_propellers?(a=a.Add(this.prop_list[this.idx_prop].stats),this.use_variable&&(a.cost+=2)):(a.pitchboost=1,a.pitchspeed=1);return a};
Propeller.prototype.SetCalculateStats=function(a){this.CalculateStats=a};
var Frames=function(a){Part.call(this);this.frame_list=[];for(var b=$jscomp.makeIterator(a.frames),c=b.next();!c.done;c=b.next())c=c.value,this.frame_list.push({name:c.name,stats:new Stats(c),basestruct:c.basestructure,basecost:c.basecost,geodesic:c.geodesic});this.skin_list=[];b=$jscomp.makeIterator(a.skin);for(c=b.next();!c.done;c=b.next())c=c.value,this.skin_list.push({name:c.name,stats:new Stats(c),monocoque:c.monocoque,monocoque_structure:c.monocoque_structure,flammable:c.flammable});this.has_tractor_nacelles=
this.boom=this.farman=!1;this.sel_tail=1;this.tail_list=[];a=$jscomp.makeIterator(a.tail);for(c=a.next();!c.done;c=a.next())c=c.value,this.tail_list.push({name:c.name,stats:new Stats(c)});this.flying_wing=!1;this.section_list=[];this.tail_section_list=[];this.SetRequiredSections(1)};$jscomp.inherits(Frames,Part);Frames.prototype.toJSON=function(){return{sections:this.section_list,tail_sections:this.tail_section_list,tail_index:this.sel_tail,use_farman:this.farman,use_boom:this.boom,flying_wing:this.flying_wing}};
Frames.prototype.fromJSON=function(a){this.section_list=[];for(var b=$jscomp.makeIterator(a.sections),c=b.next();!c.done;c=b.next())c=c.value,this.section_list.push({frame:c.frame,skin:c.skin,geodesic:c.geodesic,monocoque:c.monocoque,lifting_body:c.lifting_body,internal_bracing:c.internal_bracing});this.tail_section_list=[];b=$jscomp.makeIterator(a.tail_sections);for(c=b.next();!c.done;c=b.next())c=c.value,this.tail_section_list.push({frame:c.frame,skin:c.skin,geodesic:c.geodesic,monocoque:c.monocoque,
lifting_body:c.lifting_body,internal_bracing:c.internal_bracing});this.farman=a.use_farman;this.boom=a.use_boom;this.sel_tail=a.tail_index;this.flying_wing=a.flying_wing};
Frames.prototype.DuplicateSection=function(a){var b=this.section_list[a];b={frame:b.frame,skin:b.skin,geodesic:b.geodesic,monocoque:b.monocoque,lifting_body:b.lifting_body,internal_bracing:b.internal_bracing};b.internal_bracing&&this.CountSections()+this.tail_section_list.length==this.CountInternalBracing()||(this.section_list.splice(a,0,b),this.CalculateStats())};
Frames.prototype.DuplicateTailSection=function(a){var b=this.tail_section_list[a];b={frame:b.frame,skin:b.skin,geodesic:b.geodesic,monocoque:b.monocoque,lifting_body:b.lifting_body,internal_bracing:b.internal_bracing};b.internal_bracing&&this.CountSections()==this.CountInternalBracing()||(this.tail_section_list.splice(a,0,b),this.CalculateStats())};
Frames.prototype.DeleteSection=function(a){if(this.required_sections!=this.CountSections()||this.section_list[a].internal_bracing)this.section_list.splice(a,1),this.CalculateStats()};
Frames.prototype.SetRequiredSections=function(a){this.required_sections=a;if(this.required_sections>this.CountSections())for(0==this.section_list.length&&this.section_list.push({frame:0,skin:0,geodesic:!1,monocoque:!1,lifting_body:!1,internal_bracing:!1}),a=this.section_list.length-1;0<=a;a--)if(!this.section_list[a].internal_bracing){for(;this.required_sections>this.CountSections();)this.DuplicateSection(a);break}};
Frames.prototype.SetRequiredTailSections=function(a){if(a>this.tail_section_list.length)for(0==this.tail_section_list.length&&this.tail_section_list.push({frame:0,skin:0,geodesic:!1,monocoque:!1,lifting_body:!1,internal_bracing:!1});a>this.tail_section_list.length;)this.DuplicateTailSection(this.tail_section_list.length-1);for(;a<this.tail_section_list.length;)this.tail_section_list.pop();for(;this.CountSections()+a<this.CountInternalBracing();){for(var b=this.section_list.length-1;0<b&&!this.section_list[b].internal_bracing;b--);
this.DeleteSection(b)}this.CalculateStats()};Frames.prototype.CountSections=function(){for(var a=0,b=$jscomp.makeIterator(this.section_list),c=b.next();!c.done;c=b.next())c.value.internal_bracing||a++;return a};Frames.prototype.GetNumFrames=function(){return this.CountSections()+this.tail_section_list.length};Frames.prototype.CountInternalBracing=function(){for(var a=0,b=$jscomp.makeIterator(this.section_list),c=b.next();!c.done;c=b.next())c.value.internal_bracing&&a++;return a};
Frames.prototype.BaseType=function(){for(var a=[].concat($jscomp.arrayFromIterable(Array(this.frame_list.length).fill(0))),b=$jscomp.makeIterator(this.section_list),c=b.next();!c.done;c=b.next())c=c.value,c.internal_bracing||a[c.frame]++;c=b=0;for(var d=a.length-1;0<d;d--)a[d]>c&&(c=a[d],b=d);return b};Frames.prototype.GetFrameList=function(){return this.frame_list};Frames.prototype.GetSkinList=function(){return this.skin_list};Frames.prototype.GetSectionList=function(){return this.section_list};
Frames.prototype.SetFrame=function(a,b){this.section_list[a].frame=b;this.frame_list[b].geodesic||(this.section_list[a].geodesic=!1);this.CalculateStats()};Frames.prototype.SetSkin=function(a,b){this.section_list[a].skin=b;0!=b&&(this.section_list[a].internal_bracing=!1);this.skin_list[b].monocoque||(this.section_list[a].monocoque=!1,this.section_list[a].lifting_body=!1);this.CalculateStats()};
Frames.prototype.SetGeodesic=function(a,b){this.frame_list[this.section_list[a].frame].geodesic&&(this.section_list[a].geodesic=b,this.CalculateStats())};Frames.prototype.SetMonocoque=function(a,b){this.skin_list[this.section_list[a].skin].monocoque&&(this.section_list[a].monocoque=b,this.CalculateStats())};Frames.prototype.SetLiftingBody=function(a,b){this.skin_list[this.section_list[a].skin].monocoque&&(this.section_list[a].lifting_body=b,this.CalculateStats())};
Frames.prototype.SetInternalBracing=function(a,b){b&&!this.section_list[a].internal_bracing&&this.PossibleInternalBracing()&&this.CountSections()>this.required_sections?(this.section_list[a].internal_bracing=!0,this.section_list[a].skin=0,this.section_list[a].monocoque=!1,this.section_list[a].lifting_body=!1,this.CalculateStats()):b||(this.section_list[a].internal_bracing=!1,this.CalculateStats())};
Frames.prototype.PossibleInternalBracing=function(){return this.CountInternalBracing()<this.CountSections()+this.tail_section_list.length};Frames.prototype.PossibleGeodesic=function(a){return this.frame_list[this.section_list[a].frame].geodesic&&!this.section_list[a].monocoque};Frames.prototype.PossibleMonocoque=function(a){return this.skin_list[this.section_list[a].skin].monocoque};
Frames.prototype.PossibleTailGeodesic=function(a){return this.frame_list[this.tail_section_list[a].frame].geodesic&&!this.tail_section_list[a].monocoque};Frames.prototype.PossibleTailMonocoque=function(a){return this.skin_list[this.tail_section_list[a].skin].monocoque};Frames.prototype.PossibleRemoveSections=function(){return this.CountSections()>this.required_sections};Frames.prototype.GetFarmanOrBoom=function(){return this.farman||this.boom};
Frames.prototype.SectionStats=function(a){var b=new Stats;b=b.Add(this.frame_list[a.frame].stats);a.geodesic&&(b.structure*=1.5);a.lifting_body&&(b.drag+=1,b.wingarea+=3);a.internal_bracing?--b.mass:(a.monocoque&&(b.mass=0,b.cost+=1,b.structure=this.skin_list[a.skin].monocoque_structure),b=b.Add(this.skin_list[a.skin].stats));return b};Frames.prototype.SetTailType=function(a){this.sel_tail=a;this.SetRequiredTailSections(this.tail_list[a].stats.reqsections)};Frames.prototype.GetTailType=function(){return this.sel_tail};
Frames.prototype.GetTailList=function(){return this.tail_list};Frames.prototype.GetTailSectionList=function(){return this.tail_section_list};Frames.prototype.SetUseFarman=function(a){(this.farman=a)&&this.boom&&(this.boom=!1);if(this.farman){a=$jscomp.makeIterator(this.tail_section_list);for(var b=a.next();!b.done;b=a.next())b=b.value,b.skin=0,b.monocoque=!1,b.lifting_body=!1}this.CalculateStats()};Frames.prototype.GetUseFarman=function(){return this.farman};
Frames.prototype.SetUseBoom=function(a){(this.boom=a)&&this.farman&&(this.farman=!1);this.CalculateStats()};Frames.prototype.GetUseBoom=function(){return this.boom};Frames.prototype.SetTailFrame=function(a,b){this.tail_section_list[a].frame=b;this.frame_list[b].geodesic||(this.section_list[a].geodesic=!1);this.CalculateStats()};
Frames.prototype.SetTailSkin=function(a,b){this.tail_section_list[a].skin=b;0!=b&&(this.tail_section_list[a].internal_bracing=!1);this.skin_list[b].monocoque||(this.tail_section_list[a].monocoque=!1,this.tail_section_list[a].lifting_body=!1);this.CalculateStats()};Frames.prototype.SetTailGeodesic=function(a,b){this.frame_list[this.tail_section_list[a].frame].geodesic&&(this.tail_section_list[a].geodesic=b,this.CalculateStats())};
Frames.prototype.SetTailMonocoque=function(a,b){this.skin_list[this.tail_section_list[a].skin].monocoque&&(this.tail_section_list[a].monocoque=b,this.CalculateStats())};Frames.prototype.SetTailLiftingBody=function(a,b){this.skin_list[this.tail_section_list[a].skin].monocoque&&(this.tail_section_list[a].lifting_body=b,this.CalculateStats())};Frames.prototype.SetHasTractorNacelles=function(a){this.has_tractor_nacelles=!0};Frames.prototype.GetHasTractorNacelles=function(){return this.has_tractor_nacelles};
Frames.prototype.CanFlyingWing=function(){for(var a=$jscomp.makeIterator(this.section_list),b=a.next();!b.done;b=a.next())if(b.value.lifting_body)return!0;a=$jscomp.makeIterator(this.tail_section_list);for(b=a.next();!b.done;b=a.next())if(b.value.lifting_body)return!0;return!1};Frames.prototype.GetFlyingWing=function(){return this.flying_wing};Frames.prototype.SetFlyingWing=function(a){a&&this.CanFlyingWing()?this.flying_wing=!0:this.flying_wing=!1;this.CalculateStats()};
Frames.prototype.SetCalculateStats=function(a){this.CalculateStats=a};
Frames.prototype.PartStats=function(){this.CanFlyingWing()||(this.flying_wing=!1);var a=new Stats,b=this.BaseType();a.structure=this.frame_list[b].basestruct;a.cost=this.frame_list[b].basecost;b=!1;for(var c=$jscomp.makeIterator(this.section_list),d=c.next();!d.done;d=c.next()){var e=d.value;a=a.Add(this.SectionStats(e));d=0>this.skin_list[e.skin].monocoque_structure&&e.monocoque;b=b||d}c=new Stats;e=$jscomp.makeIterator(this.tail_section_list);for(d=e.next();!d.done;d=e.next())d=d.value,c=c.Add(this.SectionStats(d)),
d=0>this.skin_list[d.skin].monocoque_structure&&d.monocoque,b=b||d;b&&(a.structure+=30);this.flying_wing&&(a.liftbleed+=5,a.drag=0,c.drag=0);a=a.Add(this.tail_list[this.sel_tail].stats);this.boom&&(c.maxstrain-=c.mass,this.has_tractor_nacelles&&(c.drag=Math.floor(1.5*c.drag)));a=a.Add(c);a.structure=Math.floor(a.structure);a.cost=Math.floor(a.cost);a.visibility=Math.min(a.visibility,3);return a};
var Wings=function(a){Part.call(this);this.skin_list=[];for(var b=$jscomp.makeIterator(a.surface),c=b.next();!c.done;c=b.next())c=c.value,this.skin_list.push({name:c.name,flammable:c.flammable,stats:new Stats(c),strainfactor:c.strainfactor,dragfactor:c.dragfactor});this.stagger_list=[];b=$jscomp.makeIterator(a.stagger);for(c=b.next();!c.done;c=b.next())c=c.value,this.stagger_list.push({name:c.name,inline:c.inline,wing_count:c.wing_count,hstab:c.hstab,stats:new Stats(c)});this.deck_list=[];a=$jscomp.makeIterator(a.decks);
for(c=a.next();!c.done;c=a.next())c=c.value,this.deck_list.push({name:c.name,limited:c.limited,stats:new Stats(c)});this.wing_list=[];this.mini_wing_list=[];this.wing_stagger=Math.floor(this.stagger_list.length/2);this.is_closed=this.is_swept=!1};$jscomp.inherits(Wings,Part);Wings.prototype.toJSON=function(){return{wing_list:this.wing_list,mini_wing_list:this.mini_wing_list,wing_stagger:this.wing_stagger,is_swept:this.is_swept,is_closed:this.is_closed}};
Wings.prototype.fromJSON=function(a){this.wing_list=a.wing_list;this.mini_wing_list=a.mini_wing_list;this.wing_stagger=a.wing_stagger;this.is_swept=a.is_swept;this.is_closed=a.is_closed};Wings.prototype.GetWingList=function(){return this.wing_list};Wings.prototype.GetMiniWingList=function(){return this.mini_wing_list};Wings.prototype.GetSkinList=function(){return this.skin_list};Wings.prototype.GetStaggerList=function(){return this.stagger_list};Wings.prototype.GetDeckList=function(){return this.deck_list};
Wings.prototype.DeckCountFull=function(){for(var a=[].concat($jscomp.arrayFromIterable(Array(this.deck_list.length).fill(0))),b=$jscomp.makeIterator(this.wing_list),c=b.next();!c.done;c=b.next())a[c.value.deck]++;return a};Wings.prototype.DeckCountMini=function(){for(var a=[].concat($jscomp.arrayFromIterable(Array(this.deck_list.length).fill(0))),b=$jscomp.makeIterator(this.mini_wing_list),c=b.next();!c.done;c=b.next())a[c.value.deck]++;return a};
Wings.prototype.SetStagger=function(a){for(this.wing_stagger=a;this.stagger_list[a].wing_count<this.wing_list.length;)this.wing_list.pop();if(this.stagger_list[a].inline){a=this.DeckCountFull();for(var b=this.wing_list.length-1;0<=b;b--){var c=this.wing_list[b];1==a[c.deck]&&1<this.wing_list.length&&(a[c.deck]--,this.wing_list.splice(b,1))}}else for(a=this.DeckCountFull(),b=this.wing_list.length-1;0<=b;b--)c=this.wing_list[b],1<a[c.deck]&&(a[c.deck]--,this.wing_list.splice(b,1));this.CalculateStats()};
Wings.prototype.GetStagger=function(){return this.wing_stagger};Wings.prototype.CanAddFullWing=function(a){a>=this.deck_list.length&&console.log("Deck out of Bounds");if(this.wing_list.length>=this.stagger_list[this.wing_stagger].wing_count)return!1;var b=this.DeckCountFull();if(this.stagger_list[this.wing_stagger].inline){if(2==b[a]||0==b[a]&&0<this.wing_list.length)return!1}else if(1==b[a]&&this.deck_list[a].limited)return!1;return 0!=this.DeckCountMini()[a]?!1:!0};
Wings.prototype.CanAddMiniWing=function(a){var b=this.DeckCountFull(),c=this.DeckCountMini();return 0!=b[a]||0!=c[a]?!1:!0};Wings.prototype.CanMoveFullWing=function(a,b){var c=this.wing_list[a];this.wing_list.splice(a,1);var d=this.CanAddFullWing(b);this.wing_list.splice(a,0,c);return d};Wings.prototype.CanMoveMiniWing=function(a,b){var c=this.mini_wing_list[a];this.mini_wing_list.splice(a,1);var d=this.CanAddMiniWing(b);this.mini_wing_list.splice(a,0,c);return d};
Wings.prototype.CanClosed=function(){return 1<this.wing_list.length&&!this.stagger_list[this.wing_stagger].inline};Wings.prototype.SetClosed=function(a){this.is_closed=a;this.CalculateStats()};Wings.prototype.GetClosed=function(){return this.is_closed};Wings.prototype.SetSwept=function(a){this.is_swept=a;this.CalculateStats()};Wings.prototype.GetSwept=function(){return this.is_swept};Wings.prototype.GetTandem=function(){return 2==this.stagger_list[this.wing_stagger].wing_count};
Wings.prototype.GetMonoplane=function(){return 1==this.wing_list.length};Wings.prototype.GetStaggered=function(){return 0!=this.stagger_list[this.wing_stagger].stats.liftbleed};
Wings.prototype.SetFullWing=function(a,b){this.wing_list.length!=a&&this.wing_list.splice(a,1);b.area!=b.area&&(b.area=3);b.area=Math.floor(b.area);b.span!=b.span&&(b.span=1);b.span=Math.floor(b.span);b.dihedral!=b.dihedral&&(b.dihedral=0);b.dihedral=Math.floor(b.dihedral);b.anhedral!=b.anhedral&&(b.anhedral=0);b.anhedral=Math.floor(b.anhedral);if(0<=b.deck){b.area=Math.max(b.area,3);for(b.span=Math.max(b.span,1);b.anhedral+b.dihedral>b.span-1;)b.anhedral>b.dihedral?b.anhedral--:b.dihedral--;this.CanAddFullWing(b.deck)&&
this.wing_list.splice(a,0,b)}this.CalculateStats()};
Wings.prototype.SetMiniWing=function(a,b){this.mini_wing_list.length!=a&&this.mini_wing_list.splice(a,1);b.area!=b.area&&(b.area=2);b.area=Math.floor(b.area);b.span!=b.span&&(b.span=1);b.span=Math.floor(b.span);b.dihedral!=b.dihedral&&(b.dihedral=0);b.dihedral=Math.floor(b.dihedral);b.anhedral!=b.anhedral&&(b.anhedral=0);b.anhedral=Math.floor(b.anhedral);0<=b.deck&&(b.area=Math.max(b.area,1),b.area=Math.min(b.area,2),b.span=Math.max(b.span,1),b.dihedral=0,b.anhedral=0,this.CanAddMiniWing(b.deck)&&
this.mini_wing_list.splice(a,0,b));this.CalculateStats()};Wings.prototype.IsFlammable=function(){for(var a=$jscomp.makeIterator(this.wing_list),b=a.next();!b.done;b=a.next())if(this.skin_list[b.value.surface].flammable)return!0;a=$jscomp.makeIterator(this.mini_wing_list);for(b=a.next();!b.done;b=a.next())if(this.skin_list[b.value.surface].flammable)return!0;return!1};Wings.prototype.SetNumFrames=function(a){this.num_frames=a};Wings.prototype.NeedHStab=function(){return this.stagger_list[this.wing_stagger].hstab};
Wings.prototype.NeedTail=function(){return this.NeedHStab()||!this.is_swept};Wings.prototype.GetSpan=function(){for(var a=0,b=$jscomp.makeIterator(this.wing_list),c=b.next();!c.done;c=b.next())c=c.value,a=Math.max(a,c.span-Math.ceil((c.anhedral+c.dihedral)/2));b=$jscomp.makeIterator(this.mini_wing_list);for(c=b.next();!c.done;c=b.next())c=c.value,a=Math.max(a,c.span-Math.ceil((c.anhedral+c.dihedral)/2));return a};
Wings.prototype.GetArea=function(){for(var a=0,b=$jscomp.makeIterator(this.wing_list),c=b.next();!c.done;c=b.next())a+=c.value.area;b=$jscomp.makeIterator(this.mini_wing_list);for(c=b.next();!c.done;c=b.next())a+=c.value.area;return a};
Wings.prototype.PartStats=function(){this.CanClosed()||(this.is_closed=!1);for(var a=new Stats,b=this.DeckCountFull(),c=!1,d=!1,e=0,f=0,k=$jscomp.makeIterator(this.wing_list),h=k.next();!h.done;h=k.next()){var g=h.value;e=Math.max(e,g.span-Math.ceil((g.anhedral+g.dihedral)/2));c?(a.control+=3,a.liftbleed+=5,--a.visibility):c=!0;h=this.skin_list[g.surface].stats.Multiply(g.area);h.wingarea=g.area;h.maxstrain-=2*g.span+g.area-10;h.maxstrain*=this.skin_list[g.surface].strainfactor;h.drag=Math.max(1,
h.drag+2*g.area-g.span-f);h.drag=Math.max(1,h.drag*this.skin_list[g.surface].dragfactor);h.latstab+=g.dihedral-g.anhedral;h.liftbleed+=g.dihedral+g.anhedral;this.stagger_list[this.wing_stagger].inline&&0==f&&(f=Math.floor(g.area/2));h.Round();a=a.Add(h)}c=$jscomp.makeIterator(this.mini_wing_list);for(h=c.next();!h.done;h=c.next())f=h.value,k=f.span-Math.ceil((f.anhedral+f.dihedral)/2),e=Math.max(e,k),d?(a.control+=1,a.liftbleed+=1):d=!0,h=this.skin_list[f.surface].stats.Multiply(f.area),h.maxstrain-=
2*k+f.area-10,h.maxstrain*=this.skin_list[f.surface].strainfactor,h.drag=Math.max(1,h.drag+f.area-k),h.drag=Math.max(1,h.drag*this.skin_list[f.surface].dragfactor),h.Round(),a=a.Add(h);for(d=0;d<b.length;d++)0<b[d]&&(a=a.Add(this.deck_list[d].stats));a.control+=8-e;a.latstab+=Math.min(0,e-8);a.latstab+=Math.floor(e/this.num_frames);this.is_swept&&(a.liftbleed+=5,a.latstab--);this.is_closed&&(a.mass+=1,a.control-=5,a.maxstrain+=20);1<this.wing_list.length&&(a=a.Add(this.stagger_list[this.wing_stagger].stats));
return a};Wings.prototype.SetCalculateStats=function(a){this.CalculateStats=a};
var Stabilizers=function(a){Part.call(this);this.is_swept=this.is_tandem=this.have_tail=!1;this.hstab_sel=0;this.hstab_count=1;this.hstab_list=[];for(var b=$jscomp.makeIterator(a.hstab),c=b.next();!c.done;c=b.next())c=c.value,this.hstab_list.push({name:c.name,is_canard:c.is_canard,increment:c.increment,stats:new Stats(c),dragfactor:c.dragfactor,is_vtail:c.is_vtail});this.vstab_sel=0;this.vstab_count=1;this.vstab_list=[];a=$jscomp.makeIterator(a.vstab);for(c=a.next();!c.done;c=a.next())b=c.value,this.vstab_list.push({name:b.name,
increment:b.increment,stats:new Stats(b),dragfactor:b.dragfactor,is_vtail:b.is_vtail})};$jscomp.inherits(Stabilizers,Part);Stabilizers.prototype.toJSON=function(){return{hstab_sel:this.hstab_sel,hstab_count:this.hstab_count,vstab_sel:this.vstab_sel,vstab_count:this.vstab_count}};Stabilizers.prototype.fromJSON=function(a){this.hstab_sel=a.hstab_sel;this.hstab_count=a.hstab_count;this.vstab_sel=a.vstab_sel;this.vstab_count=a.vstab_count};Stabilizers.prototype.GetHStabList=function(){return this.hstab_list};
Stabilizers.prototype.GetVStabList=function(){return this.vstab_list};Stabilizers.prototype.GetHStabType=function(){return this.hstab_sel};Stabilizers.prototype.SetHStabType=function(a){if("The Wings"!=this.hstab_list[a].name||this.is_tandem||this.is_swept)this.hstab_list[a].is_vtail?this.SetVTail():this.hstab_list[this.hstab_sel].is_vtail&&(this.vstab_sel=0,this.vstab_count=1),this.hstab_sel=a,this.SetHStabCount(this.hstab_count),this.CalculateStats()};
Stabilizers.prototype.GetHValidList=function(){for(var a=[],b=$jscomp.makeIterator(this.hstab_list),c=b.next();!c.done;c=b.next())"The Wings"!=c.value.name||this.is_tandem||this.is_swept?a.push(!0):a.push(!1);return a};Stabilizers.prototype.SetVTail=function(){for(var a=0;a<this.hstab_list.length;a++)this.hstab_list[a].is_vtail&&(this.hstab_sel=a);for(a=0;a<this.vstab_list.length;a++)this.vstab_list[a].is_vtail&&(this.vstab_sel=a);this.hstab_count=1;this.vstab_count=0};
Stabilizers.prototype.GetVStabType=function(){return this.vstab_sel};Stabilizers.prototype.SetVStabType=function(a){if("Outboard"!=this.vstab_list[a].name||this.GetVOutboard())this.vstab_list[a].is_vtail?this.SetVTail():this.vstab_list[this.vstab_sel].is_vtail&&(this.hstab_sel=0),this.vstab_sel=a,this.SetVStabCount(this.vstab_count),this.CalculateStats()};
Stabilizers.prototype.GetVValidList=function(){for(var a=[],b=$jscomp.makeIterator(this.vstab_list),c=b.next();!c.done;c=b.next())"Outboard"!=c.value.name||this.GetVOutboard()?a.push(!0):a.push(!1);return a};Stabilizers.prototype.GetHStabCount=function(){return this.hstab_count};
Stabilizers.prototype.SetHStabCount=function(a){a!=a&&(a=0);this.hstab_count=a=Math.floor(a);if(0!=this.hstab_list[this.hstab_sel].increment)for(;0!=this.hstab_count%this.hstab_list[this.hstab_sel].increment;)this.hstab_count++;else this.hstab_count=0;this.CalculateStats()};Stabilizers.prototype.GetHStabIncrement=function(){return this.hstab_list[this.hstab_sel].increment};Stabilizers.prototype.GetVStabCount=function(){return this.vstab_count};
Stabilizers.prototype.SetVStabCount=function(a){a!=a&&(a=0);this.vstab_count=a=Math.floor(a);if(0!=this.vstab_list[this.vstab_sel].increment)for(;0!=this.vstab_count%this.vstab_list[this.vstab_sel].increment;)this.vstab_count++;else this.vstab_count=0;this.CalculateStats()};Stabilizers.prototype.GetVStabIncrement=function(){return this.vstab_list[this.vstab_sel].increment};Stabilizers.prototype.SetEngineCount=function(a){this.engine_count=a};Stabilizers.prototype.GetIsTandem=function(){return this.is_tandem};
Stabilizers.prototype.SetIsTandem=function(a){this.is_tandem=a};Stabilizers.prototype.SetIsSwept=function(a){this.is_swept=a};Stabilizers.prototype.GetVOutboard=function(){return this.is_swept||this.is_tandem||this.hstab_list[this.hstab_sel].is_canard};Stabilizers.prototype.SetWingArea=function(a){this.wing_area=a};Stabilizers.prototype.SetCalculateStats=function(a){this.CalculateStats=a};
Stabilizers.prototype.PartStats=function(){this.GetVValidList()[this.vstab_sel]||(this.vstab_sel=0);this.GetHValidList()[this.hstab_sel]||(this.hstab_sel=0);var a=new Stats;0<this.hstab_count?(a=a.Add(this.hstab_list[this.hstab_sel].stats),a.drag+=Math.floor(this.wing_area/5*this.hstab_list[this.hstab_sel].dragfactor)):0!=this.hstab_list[this.hstab_sel].increment&&(a.pitchstab-=Math.floor(this.wing_area/2),a.liftbleed+=5);0<this.vstab_count?(a=a.Add(this.vstab_list[this.vstab_sel].stats),a.drag+=
Math.floor(this.wing_area/10*this.vstab_list[this.vstab_sel].dragfactor)):0!=this.vstab_list[this.vstab_sel].increment&&(a.latstab-=this.wing_area);a.drag+=2*(Math.max(0,this.hstab_count-1)+Math.max(0,this.vstab_count-1));var b=this.vstab_list[this.vstab_sel].is_vtail?this.hstab_count:Math.min(this.hstab_count,this.vstab_count);var c=Math.min(this.engine_count,b);a.control+=3*c+(Math.max(this.hstab_count,this.vstab_count)-b+2*(b-c));return a};
var ControlSurfaces=function(a){Part.call(this);this.span=0;this.is_cantilever=!1;this.aileron_sel=this.mp=this.wing_area=0;this.aileron_list=[];for(var b=$jscomp.makeIterator(a.ailerons),c=b.next();!c.done;c=b.next())c=c.value,this.aileron_list.push({name:c.name,warping:c.warping,stats:new Stats(c)});this.rudder_sel=0;this.rudder_list=[];b=$jscomp.makeIterator(a.rudders);for(c=b.next();!c.done;c=b.next())c=c.value,this.rudder_list.push({name:c.name,stats:new Stats(c)});this.elevator_sel=0;this.elevator_list=
[];b=$jscomp.makeIterator(a.elevators);for(c=b.next();!c.done;c=b.next())c=c.value,this.elevator_list.push({name:c.name,stats:new Stats(c)});this.flaps_sel=0;this.flaps_list=[];b=$jscomp.makeIterator(a.flaps);for(c=b.next();!c.done;c=b.next())c=c.value,this.flaps_list.push({name:c.name,costfactor:c.costfactor,stats:new Stats(c)});this.slats_sel=0;this.slats_list=[];b=$jscomp.makeIterator(a.slats);for(c=b.next();!c.done;c=b.next())c=c.value,this.slats_list.push({name:c.name,stats:new Stats(c)});this.drag_list=
[];a=$jscomp.makeIterator(a.drag_inducers);for(c=a.next();!c.done;c=a.next())c=c.value,this.drag_list.push({name:c.name,stats:new Stats(c)});this.drag_sel=[].concat($jscomp.arrayFromIterable(Array(this.drag_list.length).fill(!1)))};$jscomp.inherits(ControlSurfaces,Part);ControlSurfaces.prototype.toJSON=function(){return{aileron_sel:this.aileron_sel,rudder_sel:this.rudder_sel,elevator_sel:this.elevator_sel,flaps_sel:this.flaps_sel,slats_sel:this.slats_sel,drag_sel:this.drag_sel}};
ControlSurfaces.prototype.fromJSON=function(a){this.aileron_sel=a.aileron_sel;this.rudder_sel=a.rudder_sel;this.elevator_sel=a.elevator_sel;this.flaps_sel=a.flaps_sel;this.slats_sel=a.slats_sel;this.drag_sel=a.drag_sel};ControlSurfaces.prototype.GetAileronList=function(){return this.aileron_list};ControlSurfaces.prototype.GetAileron=function(){return this.aileron_sel};ControlSurfaces.prototype.SetAileron=function(a){this.aileron_sel=a;this.CalculateStats()};
ControlSurfaces.prototype.GetRudderList=function(){return this.rudder_list};ControlSurfaces.prototype.GetRudder=function(){return this.rudder_sel};ControlSurfaces.prototype.SetRudder=function(a){this.rudder_sel=a;this.CalculateStats()};ControlSurfaces.prototype.GetElevatorList=function(){return this.elevator_list};ControlSurfaces.prototype.GetElevator=function(){return this.elevator_sel};ControlSurfaces.prototype.SetElevator=function(a){this.elevator_sel=a;this.CalculateStats()};
ControlSurfaces.prototype.GetFlapsList=function(){return this.flaps_list};ControlSurfaces.prototype.GetFlaps=function(){return this.flaps_sel};ControlSurfaces.prototype.SetFlaps=function(a){this.flaps_sel=a;this.CalculateStats()};ControlSurfaces.prototype.GetFlapCost=function(a){a&&(this.mp=a);return Math.floor(this.flaps_list[this.flaps_sel].costfactor*this.mp)};ControlSurfaces.prototype.GetSlatsList=function(){return this.slats_list};ControlSurfaces.prototype.GetSlats=function(){return this.slats_sel};
ControlSurfaces.prototype.SetSlats=function(a){this.slats_sel=a;this.CalculateStats()};ControlSurfaces.prototype.GetDragList=function(){return this.drag_list};ControlSurfaces.prototype.GetDrag=function(){return this.drag_sel};ControlSurfaces.prototype.SetDrag=function(a,b){this.drag_sel[a]=b;this.CalculateStats()};ControlSurfaces.prototype.SetIsCantilever=function(a){this.is_cantilever=a};ControlSurfaces.prototype.SetSpan=function(a){this.span=a};
ControlSurfaces.prototype.SetWingArea=function(a){this.wing_area=a};ControlSurfaces.prototype.SetCalculateStats=function(a){this.CalculateStats=a};
ControlSurfaces.prototype.PartStats=function(){var a=new Stats;a=a.Add(this.aileron_list[this.aileron_sel].stats);this.aileron_list[this.aileron_sel].warping&&(a.maxstrain-=this.span,this.is_cantilever&&(a.cost+=2*this.wing_area));a=a.Add(this.rudder_list[this.rudder_sel].stats);a=a.Add(this.elevator_list[this.elevator_sel].stats);a=a.Add(this.flaps_list[this.flaps_sel].stats);a=a.Add(this.slats_list[this.slats_sel].stats);for(var b=0;b<this.drag_list.length;b++)this.drag_sel[b]&&(a=a.Add(this.drag_list[b].stats));
return a};
var Reinforcement=function(a){Part.call(this);this.ext_list=[];for(var b=$jscomp.makeIterator(a.external),c=b.next();!c.done;c=b.next())c=c.value,this.ext_list.push({name:c.name,tension:c.tension,config:c.config,stats:new Stats(c)});this.ext_wood_count=[].concat($jscomp.arrayFromIterable(Array(this.ext_list.length).fill(0)));this.ext_steel_count=[].concat($jscomp.arrayFromIterable(Array(this.ext_list.length).fill(0)));this.cant_list=[];a=$jscomp.makeIterator(a.cantilever);for(c=a.next();!c.done;c=a.next())b=
c.value,this.cant_list.push({name:b.name,limited:b.limited,stats:new Stats(b)});this.cant_count=[].concat($jscomp.arrayFromIterable(Array(this.cant_list.length).fill(0)));this.is_monoplane=this.is_tandem=this.is_staggered=this.wires=!1;this.acft_structure=0};$jscomp.inherits(Reinforcement,Part);Reinforcement.prototype.toJSON=function(){return{ext_wood_count:this.ext_wood_count,ext_steel_count:this.ext_steel_count,cant_count:this.cant_count,wires:this.wires}};
Reinforcement.prototype.fromJSON=function(a){this.ext_wood_count=a.ext_wood_count;this.ext_steel_count=a.ext_steel_count;this.cant_count=a.cant_count;this.wires=a.wires};Reinforcement.prototype.GetExternalList=function(){return this.ext_list};Reinforcement.prototype.GetCantileverList=function(){return this.cant_list};Reinforcement.prototype.GetExternalWoodCount=function(){return this.ext_wood_count};
Reinforcement.prototype.SetExternalWoodCount=function(a,b){b!=b&&(b=0);b=Math.floor(b);this.ext_wood_count[a]=b;this.CalculateStats()};Reinforcement.prototype.GetExternalSteelCount=function(){return this.ext_steel_count};Reinforcement.prototype.SetExternalSteelCount=function(a,b){b!=b&&(b=0);b=Math.floor(b);this.ext_steel_count[a]=b;this.CalculateStats()};Reinforcement.prototype.GetCantileverCount=function(){return this.cant_count};
Reinforcement.prototype.GetIsCantilever=function(){for(var a=0,b=$jscomp.makeIterator(this.cant_count),c=b.next();!c.done;c=b.next())a+=c.value;return 0<a};Reinforcement.prototype.SetCantileverCount=function(a,b){b!=b&&(b=0);b=Math.floor(b);this.ImplSCC(a,b);this.CalculateStats()};
Reinforcement.prototype.ImplSCC=function(a,b){var c=b-this.cant_count[a];if(this.cant_list[a].limited&&0<this.cant_count[a]){for(var d=this.TotalStructure(),e=0;e<this.cant_list.length;e++)this.cant_list[e].limited&&(d-=5*this.cant_count[e]*this.cant_list[e].stats.mass);c=Math.min(c,Math.floor(d/(5*this.cant_list[a].stats.mass)))}this.cant_count[a]+=c;return 0!=c};Reinforcement.prototype.GetWires=function(){return this.wires};Reinforcement.prototype.SetWires=function(a){this.wires=a;this.CalculateStats()};
Reinforcement.prototype.SetStaggered=function(a){this.is_staggered=a};Reinforcement.prototype.SetTandem=function(a){this.is_tandem=a};Reinforcement.prototype.SetMonoplane=function(a){this.is_monoplane=a};Reinforcement.prototype.SetAcftStructure=function(a){var b=this.acft_structure;this.acft_structure=a;a=!1;if(b>this.acft_structure)for(b=this.cant_list.length-1;0<=b;b--)a=a||this.ImplSCC(b,this.cant_count[b]);a&&this.CalculateStats()};
Reinforcement.prototype.TotalStructure=function(){for(var a=0,b=0;b<this.ext_list.length;b++)a+=this.ext_wood_count[b]*this.ext_list[b].stats.structure,a+=2*this.ext_steel_count[b]*this.ext_list[b].stats.structure;return this.acft_structure+a};Reinforcement.prototype.SetCalculateStats=function(a){this.CalculateStats=a};
Reinforcement.prototype.PartStats=function(){var a=new Stats,b=1;this.is_monoplane?b=.6:this.is_tandem?b=.8:this.is_staggered&&(b=.9);for(var c=0,d=0,e=0;e<this.ext_list.length;e++)if(d+=this.ext_wood_count[e],0<this.ext_wood_count[e]){var f=this.ext_list[e].stats;f=f.Multiply(this.ext_wood_count[e]);a=a.Add(f);c=this.ext_list[e].config?c+b*this.ext_list[e].tension*this.ext_wood_count[e]:c+this.ext_list[e].tension*this.ext_wood_count[e]}for(e=0;e<this.ext_list.length;e++)d+=this.ext_steel_count[e],
0<this.ext_steel_count[e]&&(f=this.ext_list[e].stats.Clone(),f.structure*=2,f.cost*=2,f.maxstrain+=5,f=f.Multiply(this.ext_steel_count[e]),a=a.Add(f),c=this.ext_list[e].config?c+b*this.ext_list[e].tension/2*this.ext_steel_count[e]:c+this.ext_list[e].tension/2*this.ext_steel_count[e]);this.wires&&(a.maxstrain+=Math.floor(c),a.drag+=3*d);b=!1;for(c=0;c<this.cant_list.length;c++)0<this.cant_count[c]&&(b=!0,d=this.cant_list[c].stats,d=d.Multiply(this.cant_count[c]),a=a.Add(d));b&&(a.cost+=5);return a};
var Fuel=function(a){Part.call(this);this.tank_stats=[];this.tank_count=[];a=$jscomp.makeIterator(a.tanks);for(var b=a.next();!b.done;b=a.next())b=b.value,this.tank_stats.push({name:b.name,stats:new Stats(b),internal:b.internal,cantilever:b.cantilever}),this.tank_count.push(0);this.is_cantilever=this.self_sealing=!1;this.wing_area=0};$jscomp.inherits(Fuel,Part);Fuel.prototype.toJSON=function(){return{tank_count:this.tank_count,self_sealing:this.self_sealing,fire_extinguisher:this.fire_extinguisher}};
Fuel.prototype.fromJSON=function(a){this.tank_count=a.tank_count;this.self_sealing=a.self_sealing;this.fire_extinguisher=a.fire_extinguisher};Fuel.prototype.GetTankList=function(){return this.tank_stats};Fuel.prototype.GetTankEnabled=function(){for(var a=[],b=$jscomp.makeIterator(this.tank_stats),c=b.next();!c.done;c=b.next())c=c.value,!this.is_cantilever&&c.cantilever?a.push(!1):a.push(!0);return a};Fuel.prototype.GetTankCount=function(){return this.tank_count};
Fuel.prototype.SetTankCount=function(a,b){b!=b&&(b=0);b=Math.floor(b);this.tank_count[a]=b;this.VerifyOK();this.CalculateStats()};Fuel.prototype.SetCantilever=function(a){this.is_cantilever&&!a&&(this.is_cantilever=a,this.VerifyOK()&&this.CalculateStats());this.is_cantilever=a};Fuel.prototype.SetArea=function(a){this.wing_area>a&&(this.wing_area=a,this.VerifyOK()&&this.CalculateStats());this.wing_area=a};
Fuel.prototype.VerifyOK=function(){for(var a=0,b=0;b<this.tank_count.length;b++)this.tank_stats[b].cantilever&&(a+=this.tank_count[b]);b=Math.floor(this.wing_area/10);this.is_cantilever||(b=0);a-=b;for(b=0<a;0<a;)for(var c=this.tank_count.length-1;0<=c;c--)if(this.tank_stats[c].cantilever){this.tank_count[c]--;a--;break}return b};Fuel.prototype.GetSealingEnabled=function(){for(var a=0,b=0;b<this.tank_count.length;b++)this.tank_stats[b].internal&&(a+=this.tank_count[b]);return 0<a};
Fuel.prototype.GetSelfSealing=function(){return this.self_sealing};Fuel.prototype.SetSelfSealing=function(a){this.self_sealing=a;this.CalculateStats()};Fuel.prototype.GetExtinguisher=function(){return this.fire_extinguisher};Fuel.prototype.SetExtinguisher=function(a){this.fire_extinguisher=a;this.CalculateStats()};Fuel.prototype.SetCalculateStats=function(a){this.CalculateStats=a};
Fuel.prototype.PartStats=function(){for(var a=new Stats,b=0,c=0;c<this.tank_count.length;c++){var d=this.tank_stats[c].stats.Clone();d=d.Multiply(this.tank_count[c]);a=a.Add(d);this.tank_stats[c].internal&&(b+=this.tank_count[c])}a.reqsections=Math.ceil(a.reqsections);this.self_sealing&&(a.mass+=b,a.cost+=2*b,a.warnings.push({source:"Self-Sealing Gas Tank",warning:"Fuel leak penalty will apply only to the next Fuel Check."}));this.fire_extinguisher&&(a.mass+=2,a.cost+=3,a.warnings.push({source:"Remote Fire Extinguisher",
warning:"Spend to put out a fire."}));0<a.wetmass%5&&(a.wetmass+=5-a.wetmass%5);return a};var Munitions=function(){Part.call(this);this.rocket_count=this.bomb_count=0;this.internal_bay_2=this.internal_bay_1=!1};$jscomp.inherits(Munitions,Part);Munitions.prototype.toJSON=function(){return{bomb_count:this.bomb_count,rocket_count:this.rocket_count,bay1:this.internal_bay_1,bay2:this.internal_bay_2}};
Munitions.prototype.fromJSON=function(a){this.bomb_count=a.bomb_count;this.rocket_count=a.rocket_count;this.internal_bay_1=a.bay1;this.internal_bay_2=a.bay2};Munitions.prototype.GetBombCount=function(){return this.bomb_count};Munitions.prototype.SetBombCount=function(a){a!=a&&(a=0);this.bomb_count=a=Math.floor(a);this.LimitMass(!0);this.CalculateStats()};Munitions.prototype.GetRocketCount=function(){return this.rocket_count};
Munitions.prototype.SetRocketCount=function(a){a!=a&&(a=0);this.rocket_count=a=Math.floor(a);this.LimitMass(!1);this.CalculateStats()};Munitions.prototype.GetBay1=function(){return this.internal_bay_1};Munitions.prototype.GetBay2=function(){return this.internal_bay_2};Munitions.prototype.SetUseBays=function(a,b){this.internal_bay_1=a;this.internal_bay_2=b;!this.internal_bay_1&&this.internal_bay_2&&(this.internal_bay_1=!0,this.internal_bay_2=!1);this.CalculateStats()};
Munitions.prototype.LimitMass=function(a){for(var b=!1;this.bomb_count+this.rocket_count>this.acft_struct/5;)b=!0,a&&0<this.bomb_count||!a&&0==this.rocket_count?this.bomb_count--:this.rocket_count--;return b};Munitions.prototype.GetExternalMass=function(){var a=this.bomb_count;this.internal_bay_1&&(a=Math.floor(a/2),this.internal_bay_2&&(a=0));return a+this.rocket_count};Munitions.prototype.SetAcftStructure=function(a){this.acft_struct=a;this.LimitMass(!1)&&this.CalculateStats()};
Munitions.prototype.SetCalculateStats=function(a){this.CalculateStats=a};Munitions.prototype.PartStats=function(){var a=new Stats,b=this.bomb_count;this.internal_bay_1&&(a.reqsections++,b=Math.floor(b/2),this.internal_bay_2&&(a.reqsections++,b=0));a.mass+=Math.ceil((b+this.rocket_count)/5);a.bomb_mass=this.bomb_count+this.rocket_count;a.reqsections=Math.ceil(a.reqsections);0<a.wetmass%5&&(a.wetmass+=5-a.wetmass%5);0<a.bomb_mass%5&&(a.bomb_mass+=5-a.bomb_mass%5);return a};
var CargoAndPassengers=function(){Part.call(this);this.pass=this.mass=0};$jscomp.inherits(CargoAndPassengers,Part);CargoAndPassengers.prototype.toJSON=function(){return{mass:this.mass,pass:this.pass}};CargoAndPassengers.prototype.fromJSON=function(a){this.mass=a.mass;this.pass=a.pass};CargoAndPassengers.prototype.GetMass=function(){return this.mass};CargoAndPassengers.prototype.SetMass=function(a){a!=a&&(a=0);this.mass=a=Math.floor(a);this.CalculateStats()};
CargoAndPassengers.prototype.GetPassengers=function(){return this.pass};CargoAndPassengers.prototype.SetPassengers=function(a){a!=a&&(a=0);this.pass=a=Math.floor(a);this.CalculateStats()};CargoAndPassengers.prototype.SetSeats=function(a){this.seats=a};CargoAndPassengers.prototype.SetCalculateStats=function(a){this.CalculateStats=a};
CargoAndPassengers.prototype.PartStats=function(){var a=new Stats;a.wetmass+=Math.max(this.pass,this.seats);if(this.pass>this.seats)a.wetmass+=3*(this.pass-this.seats);else{var b=this.seats-this.pass;0<this.mass-b&&(a.wetmass+=this.mass-b)}0<a.wetmass%5&&(a.wetmass+=5-a.wetmass%5);return a};
var LandingGear=function(a){Part.call(this);this.gear_list=[];this.gear_sel=0;this.retract=!1;for(var b=$jscomp.makeIterator(a.gear),c=b.next();!c.done;c=b.next())c=c.value,this.gear_list.push({name:c.name,stats:new Stats(c),DpLMP:c.DpLMP,SpLMP:c.SpLMP,can_retract:c.can_retract});this.extra_list=[];a=$jscomp.makeIterator(a.extras);for(c=a.next();!c.done;c=a.next())b=c.value,this.extra_list.push({name:b.name,stats:new Stats(b),MpLMP:b.MpLMP});this.extra_sel=[].concat($jscomp.arrayFromIterable(Array(this.extra_list.length).fill(!1)))};
$jscomp.inherits(LandingGear,Part);LandingGear.prototype.toJSON=function(){return{gear_sel:this.gear_sel,retract:this.retract,extra_sel:this.extra_sel}};LandingGear.prototype.fromJSON=function(a){this.gear_sel=a.gear_sel;this.retract=a.retract;this.extra_sel=a.extra_sel};LandingGear.prototype.GetGearName=function(){return this.retract?"Retractable "+this.gear_list[this.gear_sel].name:this.gear_list[this.gear_sel].name};LandingGear.prototype.GetGearList=function(){return this.gear_list};
LandingGear.prototype.GetGear=function(){return this.gear_sel};LandingGear.prototype.SetGear=function(a){this.gear_sel=a;this.CalculateStats()};LandingGear.prototype.CanRetract=function(){return this.gear_list[this.gear_sel].can_retract};LandingGear.prototype.GetRetract=function(){return this.retract};LandingGear.prototype.SetRetract=function(a){this.retract=a&&this.CanRetract();this.CalculateStats()};LandingGear.prototype.GetExtraList=function(){return this.extra_list};
LandingGear.prototype.GetExtraSelected=function(){return this.extra_sel};LandingGear.prototype.SetExtraSelected=function(a,b){this.extra_sel[a]=b;this.CalculateStats()};LandingGear.prototype.SetLoadedMass=function(a){this.loadedMP=Math.floor(a/5)};LandingGear.prototype.SetCalculateStats=function(a){this.CalculateStats=a};
LandingGear.prototype.PartStats=function(){var a=new Stats;a=a.Add(this.gear_list[this.gear_sel].stats);var b=this.gear_list[this.gear_sel].DpLMP*this.loadedMP;this.retract?(a.mass+=Math.floor(b/2),a.cost+=Math.floor(b/2)):a.drag+=b;a.structure+=this.gear_list[this.gear_sel].SpLMP*this.loadedMP;for(b=0;b<this.extra_list.length;b++)this.extra_sel[b]&&(a=a.Add(this.extra_list[b].stats),a.mass+=this.extra_list[b].MpLMP*this.loadedMP);return a};
var Accessories=function(a){Part.call(this);this.acft_power=this.armour_AP=this.armour_coverage=0;this.electric_list=[];for(var b=$jscomp.makeIterator(a.electrical),c=b.next();!c.done;c=b.next())c=c.value,this.electric_list.push({name:c.name,stats:new Stats(c),cp10p:c.cp10p});this.electrical_count=[].concat($jscomp.arrayFromIterable(Array(this.electric_list.length).fill(0)));this.radio_list=[];this.radio_sel=0;b=$jscomp.makeIterator(a.radios);for(c=b.next();!c.done;c=b.next())c=c.value,this.radio_list.push({name:c.name,
stats:new Stats(c)});this.info_list=[];b=$jscomp.makeIterator(a.information);for(c=b.next();!c.done;c=b.next())c=c.value,this.info_list.push({name:c.name,stats:new Stats(c)});this.info_sel=[].concat($jscomp.arrayFromIterable(Array(this.info_list.length).fill(!1)));this.visi_list=[];b=$jscomp.makeIterator(a.visibility);for(c=b.next();!c.done;c=b.next())c=c.value,this.visi_list.push({name:c.name,stats:new Stats(c)});this.visi_sel=[].concat($jscomp.arrayFromIterable(Array(this.visi_list.length).fill(!1)));
this.clim_list=[];b=$jscomp.makeIterator(a.climate);for(c=b.next();!c.done;c=b.next())c=c.value,this.clim_list.push({name:c.name,stats:new Stats(c),req_radiator:c.req_radiator});this.clim_sel=[].concat($jscomp.arrayFromIterable(Array(this.clim_list.length).fill(!1)));this.auto_list=[];this.auto_sel=0;b=$jscomp.makeIterator(a.autopilots);for(c=b.next();!c.done;c=b.next())c=c.value,this.auto_list.push({name:c.name,stats:new Stats(c)});this.cont_list=[];this.cont_sel=0;a=$jscomp.makeIterator(a.control);
for(c=a.next();!c.done;c=a.next())c=c.value,this.cont_list.push({name:c.name,stats:new Stats(c)})};$jscomp.inherits(Accessories,Part);Accessories.prototype.toJSON=function(){return{armour_coverage:this.armour_coverage,armour_AP:this.armour_AP,electrical_count:this.electrical_count,radio_sel:this.radio_sel,info_sel:this.info_sel,visi_sel:this.visi_sel,clim_sel:this.clim_sel,auto_sel:this.auto_sel,cont_sel:this.cont_sel}};
Accessories.prototype.fromJSON=function(a){this.armour_coverage=a.armour_coverage;this.armour_AP=a.armour_AP;this.electrical_count=a.electrical_count;this.radio_sel=a.radio_sel;this.info_sel=a.info_sel;this.visi_sel=a.visi_sel;this.clim_sel=a.clim_sel;this.auto_sel=a.auto_sel;this.cont_sel=a.cont_sel};Accessories.prototype.GetCommunicationName=function(){return this.radio_list[this.radio_sel].name};Accessories.prototype.GetArmourCoverage=function(){return this.armour_coverage};
Accessories.prototype.SetArmourCoverage=function(a){a!=a&&(a=0);this.armour_coverage=a=Math.floor(a);this.CalculateStats()};Accessories.prototype.GetArmourAP=function(){return this.armour_AP};Accessories.prototype.SetArmourAP=function(a){a!=a&&(a=0);this.armour_AP=a=Math.floor(a);this.CalculateStats()};Accessories.prototype.GetElectricalList=function(){return this.electric_list};Accessories.prototype.GetElectricalCount=function(){return this.electrical_count};
Accessories.prototype.SetElectricalCount=function(a,b){b!=b&&(b=0);b=Math.floor(b);b=Math.min(b,5);this.electrical_count[a]=b;this.CalculateStats()};Accessories.prototype.GetRadioList=function(){return this.radio_list};Accessories.prototype.GetRadioSel=function(){return this.radio_sel};Accessories.prototype.SetRadioSel=function(a){this.radio_sel=a;this.CalculateStats()};Accessories.prototype.GetInfoList=function(){return this.info_list};Accessories.prototype.GetInfoSel=function(){return this.info_sel};
Accessories.prototype.SetInfoSel=function(a,b){this.info_sel[a]=b;this.CalculateStats()};Accessories.prototype.GetVisibilityList=function(){return this.visi_list};Accessories.prototype.GetVisibilitySel=function(){return this.visi_sel};Accessories.prototype.SetVisibilitySel=function(a,b){this.visi_sel[a]=b;this.CalculateStats()};Accessories.prototype.GetClimateList=function(){return this.clim_list};Accessories.prototype.GetClimateSel=function(){return this.clim_sel};
Accessories.prototype.GetClimateEnable=function(){for(var a=[],b=$jscomp.makeIterator(this.clim_list),c=b.next();!c.done;c=b.next())c=c.value,!this.acft_rad&&c.req_radiator?a.push(!1):a.push(!0);return a};Accessories.prototype.SetClimateSel=function(a,b){this.clim_sel[a]=b;this.CalculateStats()};Accessories.prototype.GetAutopilotList=function(){return this.auto_list};Accessories.prototype.GetAutopilotSel=function(){return this.auto_sel};
Accessories.prototype.SetAutopilotSel=function(a){this.auto_sel=a;this.CalculateStats()};Accessories.prototype.GetControlList=function(){return this.cont_list};Accessories.prototype.GetControlSel=function(){return this.cont_sel};Accessories.prototype.SetControlSel=function(a){this.cont_sel=a;this.CalculateStats()};Accessories.prototype.SetAcftPower=function(a){this.acft_power=a};Accessories.prototype.SetAcftRadiator=function(a){this.acft_rad=a};
Accessories.prototype.SetCalculateStats=function(a){this.CalculateStats=a};
Accessories.prototype.PartStats=function(){var a=new Stats;a.mass+=this.armour_coverage*this.armour_AP;a.cost+=Math.floor(this.armour_coverage*this.armour_AP/3);a.toughness+=this.armour_coverage*this.armour_AP;for(var b=0;b<this.electrical_count.length;b++){var c=this.electric_list[b].stats.Clone();c=c.Multiply(this.electrical_count[b]);a=a.Add(c);a.charge+=Math.floor(this.electrical_count[b]*this.electric_list[b].cp10p*this.acft_power/10)}a=a.Add(this.radio_list[this.radio_sel].stats);for(b=0;b<
this.info_list.length;b++)this.info_sel[b]&&(a=a.Add(this.info_list[b].stats));for(b=0;b<this.visi_list.length;b++)this.visi_sel[b]&&(a=a.Add(this.visi_list[b].stats));for(b=0;b<this.clim_list.length;b++)!this.clim_sel[b]||this.clim_list[b].req_radiator&&!this.acft_rad||(a=a.Add(this.clim_list[b].stats));a=a.Add(this.auto_list[this.auto_sel].stats);return a=a.Add(this.cont_list[this.cont_sel].stats)};
var Optimization=function(){Part.call(this);this.drag=this.reliability=this.maxstrain=this.toughness=this.mass=this.escape=this.bleed=this.cost=this.free_dots=0;this.acft_stats=new Stats};$jscomp.inherits(Optimization,Part);Optimization.prototype.toJSON=function(){return{free_dots:this.free_dots,cost:this.cost,bleed:this.bleed,escape:this.escape,mass:this.mass,toughness:this.toughness,maxstrain:this.maxstrain,reliability:this.reliability,drag:this.drag}};
Optimization.prototype.fromJSON=function(a){this.free_dots=a.free_dots;this.cost=a.cost;this.bleed=a.bleed;this.escape=a.escape;this.mass=a.mass;this.toughness=a.toughness;this.maxstrain=a.maxstrain;this.reliability=a.reliability;this.drag=a.drag};Optimization.prototype.GetUnassignedCount=function(){return this.free_dots-this.cost-this.bleed-this.escape-this.mass-this.toughness-this.maxstrain-this.reliability-this.drag};
Optimization.prototype.ReduceDots=function(){var a=-this.GetUnassignedCount();if(0<a){var b=Math.min(a,this.drag);b=Math.max(b,0);this.drag-=b;a-=b;b=Math.min(a,this.reliability);b=Math.max(b,0);this.reliability-=b;a-=b;b=Math.min(a,this.maxstrain);b=Math.max(b,0);this.maxstrain-=b;a-=b;b=Math.min(a,this.toughness);b=Math.max(b,0);this.toughness-=b;a-=b;b=Math.min(a,this.mass);b=Math.max(b,0);this.mass-=b;a-=b;b=Math.min(a,this.escape);b=Math.max(b,0);this.escape-=b;a-=b;b=Math.min(a,this.bleed);
b=Math.max(b,0);this.bleed-=b;b=Math.min(a-b,this.cost);b=Math.max(b,0);this.cost-=b}};Optimization.prototype.GetFreeDots=function(){return this.free_dots};Optimization.prototype.SetFreeDots=function(a){a!=a&&(a=0);a=Math.floor(a);this.free_dots=a=Math.max(a,0);this.ReduceDots();this.CalculateStats()};Optimization.prototype.GetCost=function(){return this.cost};Optimization.prototype.SetCost=function(a){a!=a&&(a=0);a=Math.floor(a);a=Math.max(a,-3);this.cost=a=Math.min(a,3);this.ReduceDots();this.CalculateStats()};
Optimization.prototype.GetBleed=function(){return this.bleed};Optimization.prototype.SetBleed=function(a){a!=a&&(a=0);a=Math.floor(a);a=Math.max(a,-3);this.bleed=a=Math.min(a,3);this.ReduceDots();this.CalculateStats()};Optimization.prototype.GetEscape=function(){return this.escape};Optimization.prototype.SetEscape=function(a){a!=a&&(a=0);a=Math.floor(a);a=Math.max(a,-3);this.escape=a=Math.min(a,3);this.ReduceDots();this.CalculateStats()};Optimization.prototype.GetMass=function(){return this.mass};
Optimization.prototype.SetMass=function(a){a!=a&&(a=0);a=Math.floor(a);a=Math.max(a,-3);this.mass=a=Math.min(a,3);this.ReduceDots();this.CalculateStats()};Optimization.prototype.GetToughness=function(){return this.toughness};Optimization.prototype.SetToughness=function(a){a!=a&&(a=0);a=Math.floor(a);a=Math.max(a,-3);this.toughness=a=Math.min(a,3);this.ReduceDots();this.CalculateStats()};Optimization.prototype.GetMaxStrain=function(){return this.maxstrain};
Optimization.prototype.SetMaxStrain=function(a){a!=a&&(a=0);a=Math.floor(a);a=Math.max(a,-3);this.maxstrain=a=Math.min(a,3);this.ReduceDots();this.CalculateStats()};Optimization.prototype.GetReliabiilty=function(){return this.reliability};Optimization.prototype.SetReliability=function(a){a!=a&&(a=0);a=Math.floor(a);a=Math.max(a,-3);this.reliability=a=Math.min(a,3);this.ReduceDots();this.CalculateStats()};Optimization.prototype.GetDrag=function(){return this.drag};
Optimization.prototype.SetDrag=function(a){a!=a&&(a=0);a=Math.floor(a);a=Math.max(a,-3);this.drag=a=Math.min(a,3);this.ReduceDots();this.CalculateStats()};Optimization.prototype.SetAcftStats=function(a){this.acft_stats=a};Optimization.prototype.SetCalculateStats=function(a){this.CalculateStats=a};
Optimization.prototype.PartStats=function(){var a=new Stats;a.cost=-Math.floor(1.5*this.cost*this.acft_stats.cost/10);a.liftbleed=2*-this.bleed;a.escape=this.escape;a.visibility=this.escape;a.mass=-Math.floor(this.mass*this.acft_stats.mass/20);a.toughness=Math.floor(this.toughness*this.acft_stats.toughness/5);a.maxstrain=Math.floor(this.maxstrain*this.acft_stats.maxstrain/10);a.reliability=2*this.reliability;a.drag=-Math.floor(this.drag*this.acft_stats.drag/20);a.cost+=Math.max(0,Math.abs(this.cost)+
Math.abs(this.bleed)+Math.abs(this.escape)+Math.abs(this.mass)+Math.abs(this.toughness)+Math.abs(this.maxstrain)+Math.abs(this.reliability)+Math.abs(this.drag)-this.free_dots);return a};
var Aircraft=function(a,b,c){var d=this;this.use_storage=!1;this.stats=new Stats;this.name="Prototype Aircraft";this.version=a.version;this.era=new Era(a.era);this.cockpits=new Cockpits(a.cockpit);this.passengers=new Passengers(a.passengers);this.engines=new Engines(a.engines,b);this.propeller=new Propeller(a.propellers);this.frames=new Frames(a.frames);this.wings=new Wings(a.wings);this.stabilizers=new Stabilizers(a.stabilizers);this.controlsurfaces=new ControlSurfaces(a.controls);this.reinforcements=
new Reinforcement(a.reinforcement);this.fuel=new Fuel(a.fuel);this.munitions=new Munitions;this.cargo=new CargoAndPassengers;this.gear=new LandingGear(a.landing_gear);this.accessories=new Accessories(a.accessories);this.optimization=new Optimization;this.era.SetCalculateStats(function(){d.CalculateStats()});this.cockpits.SetCalculateStats(function(){d.CalculateStats()});this.passengers.SetCalculateStats(function(){d.CalculateStats()});this.engines.SetCalculateStats(function(){d.CalculateStats()});
this.propeller.SetCalculateStats(function(){d.CalculateStats()});this.frames.SetCalculateStats(function(){d.CalculateStats()});this.wings.SetCalculateStats(function(){d.CalculateStats()});this.stabilizers.SetCalculateStats(function(){d.CalculateStats()});this.controlsurfaces.SetCalculateStats(function(){d.CalculateStats()});this.reinforcements.SetCalculateStats(function(){d.CalculateStats()});this.fuel.SetCalculateStats(function(){d.CalculateStats()});this.munitions.SetCalculateStats(function(){d.CalculateStats()});
this.cargo.SetCalculateStats(function(){d.CalculateStats()});this.gear.SetCalculateStats(function(){d.CalculateStats()});this.accessories.SetCalculateStats(function(){d.CalculateStats()});this.optimization.SetCalculateStats(function(){d.CalculateStats()});this.cockpits.SetNumberOfCockpits(1);this.engines.SetNumberOfEngines(1);this.frames.SetTailType(1);this.use_storage=c};
Aircraft.prototype.toJSON=function(){return{version:this.version,name:this.name,era:this.era.toJSON(),cockpits:this.cockpits.toJSON(),passengers:this.passengers.toJSON(),engines:this.engines.toJSON(),propeller:this.propeller.toJSON(),frames:this.frames.toJSON(),wings:this.wings.toJSON(),stabilizers:this.stabilizers.toJSON(),controlsurfaces:this.controlsurfaces.toJSON(),reinforcements:this.reinforcements.toJSON(),fuel:this.fuel.toJSON(),munitions:this.munitions.toJSON(),cargo:this.cargo.toJSON(),gear:this.gear.toJSON(),
accessories:this.accessories.toJSON(),optimization:this.optimization.toJSON()}};
Aircraft.prototype.fromJSON=function(a){console.log(a);console.log(a.version);this.version==a.version&&(this.name=a.name,this.era.fromJSON(a.era),this.cockpits.fromJSON(a.cockpits),this.passengers.fromJSON(a.passengers),this.engines.fromJSON(a.engines),this.propeller.fromJSON(a.propeller),this.frames.fromJSON(a.frames),this.wings.fromJSON(a.wings),this.stabilizers.fromJSON(a.stabilizers),this.controlsurfaces.fromJSON(a.controlsurfaces),this.reinforcements.fromJSON(a.reinforcements),this.fuel.fromJSON(a.fuel),
this.munitions.fromJSON(a.munitions),this.cargo.fromJSON(a.cargo),this.gear.fromJSON(a.gear),this.accessories.fromJSON(a.accessories),this.optimization.fromJSON(a.optimization),this.CalculateStats())};Aircraft.prototype.SetDisplayCallback=function(a){this.DisplayCallback=a};
Aircraft.prototype.CalculateStats=function(){this.updated_stats=!1;var a=new Stats;a=a.Add(this.era.PartStats());a=a.Add(this.cockpits.PartStats());a=a.Add(this.passengers.PartStats());a=a.Add(this.engines.PartStats());this.propeller.SetHavePropeller(this.engines.GetHavePropeller());a=a.Add(this.propeller.PartStats());a=a.Add(this.fuel.PartStats());a=a.Add(this.munitions.PartStats());this.frames.SetRequiredSections(a.reqsections);this.frames.SetHasTractorNacelles(this.engines.GetHasTractorNacelles());
a=a.Add(this.frames.PartStats());this.wings.SetNumFrames(this.frames.GetNumFrames());a=a.Add(this.wings.PartStats());this.stabilizers.SetEngineCount(this.engines.GetNumberOfEngines());this.stabilizers.SetIsTandem(this.wings.GetTandem());this.stabilizers.SetIsSwept(this.wings.GetSwept());this.stabilizers.SetWingArea(a.wingarea);a=a.Add(this.stabilizers.PartStats());this.controlsurfaces.SetWingArea(a.wingarea);this.controlsurfaces.SetSpan(this.wings.GetSpan());a=a.Add(this.controlsurfaces.PartStats());
this.reinforcements.SetMonoplane(this.wings.GetMonoplane());this.reinforcements.SetTandem(this.wings.GetTandem());this.reinforcements.SetStaggered(this.wings.GetStaggered());a=a.Add(this.reinforcements.PartStats());this.cargo.SetSeats(this.passengers.GetBeds()+this.passengers.GetSeats());a=a.Add(this.cargo.PartStats());this.accessories.SetAcftPower(a.power);this.accessories.SetAcftRadiator(0<this.engines.GetNumberOfRadiators());a=a.Add(this.accessories.PartStats());this.gear.SetLoadedMass(a.mass+
a.wetmass);a=a.Add(this.gear.PartStats());a.toughness+=Math.floor(Math.max(0,(a.structure-a.maxstrain)/2)+a.maxstrain/5);this.optimization.SetAcftStats(a);a=a.Add(this.optimization.PartStats());if(!this.updated_stats){this.updated_stats=!0;this.stats=a;var b=this.GetDerivedStats();this.stats.cost+=this.controlsurfaces.GetFlapCost(b.DryMP);this.cockpits.UpdateCrewStats(this.stats.escape,b.FlightStress,this.stats.visibility);this.engines.UpdateReliability(a);this.reinforcements.SetAcftStructure(a.structure);
this.fuel.SetArea(this.wings.GetArea());this.fuel.SetCantilever(this.reinforcements.GetIsCantilever());this.munitions.SetAcftStructure(a.structure);this.DisplayCallback&&this.DisplayCallback();this.use_storage&&(window.localStorage.aircraft=JSON.stringify(this))}};
Aircraft.prototype.GetDerivedStats=function(){var a=Math.floor(this.stats.mass/5),b=Math.floor((this.stats.mass+this.stats.wetmass)/5),c=Math.floor((this.stats.mass+this.stats.wetmass+this.stats.bomb_mass)/5),d=Math.floor((this.stats.drag+a)/5),e=Math.floor((this.stats.drag+b)/5),f=Math.floor((this.stats.drag+this.munitions.GetExternalMass()+a)/5),k=this.stats.pitchspeed*Math.sqrt(2E3*this.stats.power/(9*d)),h=this.stats.pitchspeed*Math.sqrt(2E3*this.stats.power/(9*e)),g=this.stats.pitchspeed*Math.sqrt(2E3*
this.stats.power/(9*f)),l=Math.floor(this.stats.liftbleed*a/Math.max(1,this.stats.wingarea)),q=Math.floor(this.stats.liftbleed*b/Math.max(1,this.stats.wingarea)),n=Math.floor(this.stats.liftbleed*c/Math.max(1,this.stats.wingarea)),r=this.engines.GetOverspeed(),t=Math.floor(this.stats.power/a),u=Math.floor(this.stats.power/b),v=Math.floor(this.stats.power/c),C=Math.floor(this.stats.pitchboost*k),m=this.stats.pitchstab+this.stats.latstab;0<this.stats.pitchstab&&0<this.stats.latstab?m+=2:0>this.stats.pitchstab&&
0>this.stats.latstab&&(m-=2);var p=100+this.stats.control-a;p=10<m?-99999:10==m?p-4:6<m?p-3:3<m?p-2:0<m?p-1:0==m?p+0:-4<m?p+1:-7<m?p+2:-10<m?p+3:-10==m?p+4:-99999;var y=p+a-b,z=p+a-c,D=Math.max(1,Math.floor(p/10)),E=Math.max(1,Math.floor(y/10)),F=Math.max(1,Math.floor(z/10)),G=Math.min(this.stats.maxstrain-a,this.stats.structure),H=this.stats.toughness,I=this.stats.structure,A=Math.ceil(d/6),B=Math.ceil((l+q)/12),w=this.stats.fuel/this.stats.fuelconsumption,x=this.stats.flightstress;(3<m||-3>m)&&
x++;x+=Math.floor(a/10);return{DryMP:a,WetMP:b,WetMPwBombs:c,DPEmpty:d,DPFull:e,DPwBombs:f,MaxSpeedEmpty:k,MaxSpeedFull:h,MaxSpeedwBombs:g,StallSpeedEmpty:l,StallSpeedFull:q,StallSpeedFullwBombs:n,Overspeed:r,BoostEmpty:t,BoostFull:u,BoostFullwBombs:v,Dropoff:C,Stabiilty:m,HandlingEmpty:p,HandlingFull:y,HandlingFullwBombs:z,ElevatorsEmpty:D,ElevatorsFull:E,ElevatorsFullwBombs:F,MaxStrain:G,Toughness:H,Structure:I,EnergyLoss:A,EnergyLosswBombs:A+1,TurnBleed:B,TurnBleedwBombs:B+1,FuelUses:w,CruiseRange:w/
3*(h+k)/2*7,CruiseRangewBombs:w/3*g*7,FlightStress:x}};Aircraft.prototype.GetVersion=function(){return this.version};Aircraft.prototype.GetCommunicationName=function(){return this.accessories.GetCommunicationName()};Aircraft.prototype.GetAttackList=function(){return this.cockpits.GetAttackList()};Aircraft.prototype.GetVisibilityList=function(){return this.cockpits.GetVisibilityList()};Aircraft.prototype.GetStressList=function(){return this.cockpits.GetStressList()};
Aircraft.prototype.GetEscapeList=function(){return this.cockpits.GetEscapeList()};Aircraft.prototype.GetReliabilityList=function(){return this.engines.GetReliabilityList()};Aircraft.prototype.GetMaxAltitude=function(){return this.engines.GetMaxAltitude()};Aircraft.prototype.GetGearName=function(){return this.gear.GetGearName()};Aircraft.prototype.GetEra=function(){return this.era};Aircraft.prototype.GetCockpits=function(){return this.cockpits};Aircraft.prototype.GetPassengers=function(){return this.passengers};
Aircraft.prototype.GetEngines=function(){return this.engines};Aircraft.prototype.GetPropeller=function(){return this.propeller};Aircraft.prototype.GetFrames=function(){return this.frames};Aircraft.prototype.GetWings=function(){return this.wings};Aircraft.prototype.GetStabilizers=function(){return this.stabilizers};Aircraft.prototype.GetControlSurfaces=function(){return this.controlsurfaces};Aircraft.prototype.GetReinforcements=function(){return this.reinforcements};Aircraft.prototype.GetFuel=function(){return this.fuel};
Aircraft.prototype.GetMunitions=function(){return this.munitions};Aircraft.prototype.GetCargoAndPassengers=function(){return this.cargo};Aircraft.prototype.GetLandingGear=function(){return this.gear};Aircraft.prototype.GetAccessories=function(){return this.accessories};Aircraft.prototype.GetOptimization=function(){return this.optimization};Aircraft.prototype.GetStats=function(){return this.stats};var internal_id=0;
function download(a,b,c){a=new Blob([a],{type:c});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(a,b);else{var d=document.createElement("a"),e=URL.createObjectURL(a);d.href=e;d.download=b;document.body.appendChild(d);d.click();setTimeout(function(){document.body.removeChild(d);window.URL.revokeObjectURL(e)},0)}}
function copyStringToClipboard(a){var b=document.createElement("textarea");b.value=a;b.setAttribute("readonly","");b.style.position="absolute";b.style.left="-9999px";document.body.appendChild(b);b.select();document.execCommand("copy");document.body.removeChild(b)}function GenerateID(){internal_id++;return"internal_id_"+internal_id.toString()}
function CreateFlexSection(a){var b={div0:document.createElement("DIV"),div1:document.createElement("DIV"),div2:document.createElement("DIV")};b.div0.classList.add("flex-container");b.div1.classList.add("flex-container");b.div2.classList.add("flex-container");b.div0.appendChild(b.div1);b.div0.appendChild(b.div2);a.appendChild(b.div0);return b}function CreateTH(a,b){var c=document.createElement("TH");c.innerHTML=b;a.appendChild(c);return c}
function CreateInput(a,b,c,d){d=void 0===d?!0:d;var e=document.createElement("SPAN"),f=document.createElement("LABEL");b.id=GenerateID();f.htmlFor=b.id;f.innerHTML="&nbsp;"+a+"&nbsp;&nbsp;";b.setAttribute("type","number");b.min="0";b.step="1";b.valueAsNumber=0;e.appendChild(f);e.appendChild(b);c.appendChild(e);d&&c.appendChild(document.createElement("BR"))}
function FlexInput(a,b,c){var d=document.createElement("LABEL");b.id=GenerateID();d.htmlFor=b.id;d.innerHTML="&nbsp;"+a+"&nbsp;&nbsp;";b.setAttribute("type","number");b.min="0";b.step="1";b.valueAsNumber=0;d.classList.add("flex-item");b.classList.add("flex-item");c.div1.appendChild(d);c.div2.appendChild(b)}
function FlexSelect(a,b,c){var d=document.createElement("LABEL");b.id=GenerateID();d.htmlFor=b.id;d.innerHTML="&nbsp;"+a+"&nbsp;&nbsp;";d.classList.add("flex-item");b.classList.add("flex-item");c.div1.appendChild(d);c.div2.appendChild(b)}function CreateSpace(a){var b=document.createElement("SPAN");b.innerHTML="&nbsp;";a.appendChild(b)}
function CreateCheckbox(a,b,c,d){d=void 0===d?!0:d;var e=document.createElement("SPAN"),f=document.createElement("LABEL");b.id=GenerateID();f.htmlFor=b.id;f.innerHTML="&nbsp;"+a+"&nbsp;&nbsp;";b.setAttribute("type","checkbox");e.appendChild(f);e.appendChild(b);c.appendChild(e);d&&c.appendChild(document.createElement("BR"))}
function FlexCheckbox(a,b,c){var d=document.createElement("LABEL");b.id=GenerateID();d.htmlFor=b.id;d.innerHTML="&nbsp;"+a+"&nbsp;&nbsp;";b.setAttribute("type","checkbox");d.classList.add("flex-item");b.classList.add("flex-item");c.div1.appendChild(d);c.div2.appendChild(b)}function FlexLabel(a,b){var c=document.createElement("LABEL");c.innerHTML="&nbsp;"+a+"&nbsp;&nbsp;";c.classList.add("flex-item");b.appendChild(c)}
function Blink(a){a.classList.toggle("changed",!1);a.offsetHeight;a.classList.toggle("changed")}function BlinkIfChanged(a,b){a.innerText!=b&&Blink(a);a.innerText=b}
var Display=function(){},Era_HTML=function(a){Display.call(this);var b=this;this.model=a;this.select=document.getElementById("select_era");this.bleed=document.getElementById("liftbleed_era");this.select.required=!0;this.select.onchange=function(){b.model.SetSelected(b.select.selectedIndex)};a=$jscomp.makeIterator(this.model.GetEraOptions());for(var c=a.next();!c.done;c=a.next()){c=c.value;var d=document.createElement("OPTION");d.text=c.name;this.select.add(d)}};$jscomp.inherits(Era_HTML,Display);
Era_HTML.prototype.UpdateDisplay=function(){this.select.selectedIndex=this.model.GetSelected();BlinkIfChanged(this.bleed,this.model.GetLiftBleed().toString())};
var Cockpit_HTML=function(a,b){Display.call(this);var c=this;this.row=a;this.cockpit=b;this.upg_chbxs=[];this.sft_chbxs=[];this.gun_chbxs=[];var d=this.row.insertCell(),e=this.row.insertCell(),f=this.row.insertCell(),k=this.row.insertCell(),h=this.row.insertCell(),g=document.createElement("TABLE"),l=g.insertRow();CreateTH(l,"Mass");CreateTH(l,"Drag");CreateTH(l,"Cost");l=g.insertRow();this.d_mass=l.insertCell();this.d_drag=l.insertCell();this.d_cost=l.insertCell();l=g.insertRow();CreateTH(l,"Control");
CreateTH(l,"Required Sections");CreateTH(l,"Crash Safety");l=g.insertRow();this.d_cont=l.insertCell();this.d_rseq=l.insertCell();this.d_crsh=l.insertCell();l=g.insertRow();CreateTH(l,"Flight Stress");CreateTH(l,"Escape");CreateTH(l,"Visibility");l=g.insertRow();this.d_strs=l.insertCell();this.d_escp=l.insertCell();this.d_visi=l.insertCell();h.appendChild(g);h.className="inner_table";g.className="inner_table";this.sel_type=document.createElement("SELECT");this.d_strs.className="part_local";this.d_visi.className=
"part_local";this.d_escp.className="part_local";g=$jscomp.makeIterator(b.GetTypeList());for(h=g.next();!h.done;h=g.next())h=h.value,l=document.createElement("OPTION"),l.text=h.name,this.sel_type.add(l);d.appendChild(this.sel_type);d=CreateFlexSection(e);e=0;g={};l=$jscomp.makeIterator(b.GetUpgradeList());for(h=l.next();!h.done;g={$jscomp$loop$prop$local_index$216:g.$jscomp$loop$prop$local_index$216,$jscomp$loop$prop$upg$217:g.$jscomp$loop$prop$upg$217},h=l.next())h=h.value,g.$jscomp$loop$prop$upg$217=
document.createElement("INPUT"),FlexCheckbox(h.name,g.$jscomp$loop$prop$upg$217,d),g.$jscomp$loop$prop$local_index$216=e,e+=1,g.$jscomp$loop$prop$upg$217.onchange=function(a){return function(){c.cockpit.SetUpgrade(a.$jscomp$loop$prop$local_index$216,a.$jscomp$loop$prop$upg$217.checked)}}(g),this.upg_chbxs.push(g.$jscomp$loop$prop$upg$217);d=CreateFlexSection(f);f=0;e={};g=$jscomp.makeIterator(b.GetSafetyList());for(h=g.next();!h.done;e={$jscomp$loop$prop$local_index$172$219:e.$jscomp$loop$prop$local_index$172$219,
$jscomp$loop$prop$sft$220:e.$jscomp$loop$prop$sft$220},h=g.next())h=h.value,e.$jscomp$loop$prop$sft$220=document.createElement("INPUT"),FlexCheckbox(h.name,e.$jscomp$loop$prop$sft$220,d),e.$jscomp$loop$prop$local_index$172$219=f,f+=1,e.$jscomp$loop$prop$sft$220.onchange=function(a){return function(){c.cockpit.SetSafety(a.$jscomp$loop$prop$local_index$172$219,a.$jscomp$loop$prop$sft$220.checked)}}(e),this.sft_chbxs.push(e.$jscomp$loop$prop$sft$220);d=CreateFlexSection(k);k=0;f={};e=$jscomp.makeIterator(b.GetGunsightList());
for(h=e.next();!h.done;f={$jscomp$loop$prop$local_index$174$222:f.$jscomp$loop$prop$local_index$174$222,$jscomp$loop$prop$gun$223:f.$jscomp$loop$prop$gun$223},h=e.next())h=h.value,f.$jscomp$loop$prop$gun$223=document.createElement("INPUT"),FlexCheckbox(h.name,f.$jscomp$loop$prop$gun$223,d),f.$jscomp$loop$prop$local_index$174$222=k,k+=1,f.$jscomp$loop$prop$gun$223.onchange=function(a){return function(){c.cockpit.SetGunsight(a.$jscomp$loop$prop$local_index$174$222,a.$jscomp$loop$prop$gun$223.checked)}}(f),
this.gun_chbxs.push(f.$jscomp$loop$prop$gun$223);this.sel_type.onchange=function(){c.cockpit.SetType(c.sel_type.selectedIndex)}};$jscomp.inherits(Cockpit_HTML,Display);Cockpit_HTML.prototype.UpdateCockpit=function(a){this.cockpit=a};
Cockpit_HTML.prototype.UpdateDisplay=function(){var a=this.cockpit.PartStats();BlinkIfChanged(this.d_mass,a.mass.toString());BlinkIfChanged(this.d_drag,a.drag.toString());BlinkIfChanged(this.d_cost,a.cost.toString());BlinkIfChanged(this.d_cont,a.control.toString());BlinkIfChanged(this.d_rseq,a.reqsections.toString());BlinkIfChanged(this.d_crsh,a.crashsafety.toString());BlinkIfChanged(this.d_strs,this.cockpit.GetFlightStress().toString());BlinkIfChanged(this.d_escp,this.cockpit.GetEscape().toString());
BlinkIfChanged(this.d_visi,this.cockpit.GetVisibility().toString());this.sel_type.selectedIndex=this.cockpit.GetType();a=this.cockpit.GetSelectedUpgrades();for(var b=0;b<this.upg_chbxs.length;b++)this.upg_chbxs[b].checked=a[b];a=this.cockpit.GetSelectedSafety();for(b=0;b<this.sft_chbxs.length;b++)this.sft_chbxs[b].checked=a[b];a=this.cockpit.GetSelectedGunsights();for(b=0;b<this.gun_chbxs.length;b++)this.gun_chbxs[b].checked=a[b]};
var Cockpits_HTML=function(a){Display.call(this);var b=this;this.cockpits=a;this.tbl=document.getElementById("table_cockpit");this.counter=document.getElementById("num_cockpits");this.positions=[];this.counter.onchange=function(a){b.cockpits.SetNumberOfCockpits(b.counter.valueAsNumber)}};$jscomp.inherits(Cockpits_HTML,Display);Cockpits_HTML.prototype.CounterChange=function(){for(;this.positions.length>this.counter.valueAsNumber;)this.RemoveCockpit();for(;this.positions.length<this.counter.valueAsNumber;)this.AddCockpit(this.positions.length)};
Cockpits_HTML.prototype.AddCockpit=function(a){var b=this.tbl.insertRow();a=new Cockpit_HTML(b,this.cockpits.GetCockpit(a));this.positions.push(a)};Cockpits_HTML.prototype.RemoveCockpit=function(){this.positions.pop();this.tbl.deleteRow(this.tbl.rows.length-1)};
Cockpits_HTML.prototype.UpdateDisplay=function(){this.counter.valueAsNumber=this.cockpits.GetNumberOfCockpits();this.CounterChange();for(var a=0;a<this.positions.length;a++){var b=this.positions[a];b.UpdateCockpit(this.cockpits.GetCockpit(a));b.UpdateDisplay()}};
var Passengers_HTML=function(a){Display.call(this);var b=this;this.pass=a;this.nseats=document.getElementById("num_seats");this.nbeds=document.getElementById("num_beds");this.mass=document.getElementById("passenger_mass");this.reqseq=document.getElementById("passenger_req_seq");a=document.getElementById("passenger_upg");this.connect=document.createElement("INPUT");a=CreateFlexSection(a);FlexCheckbox("Connectivity",this.connect,a);this.connect.disabled=!0;this.nseats.onchange=function(){b.pass.SetSeats(b.nseats.valueAsNumber)};
this.nbeds.onchange=function(){b.pass.SetBeds(b.nbeds.valueAsNumber)};this.connect.onchange=function(){b.pass.SetConnected(b.connect.checked)}};$jscomp.inherits(Passengers_HTML,Display);
Passengers_HTML.prototype.UpdateDisplay=function(){var a=this.pass.PartStats();this.nseats.valueAsNumber=this.pass.GetSeats();this.nbeds.valueAsNumber=this.pass.GetBeds();this.connect.checked=this.pass.GetConnected();this.connect.disabled=!this.pass.PossibleConnection();BlinkIfChanged(this.mass,a.mass.toString());BlinkIfChanged(this.reqseq,a.reqsections.toString())};
var Engine_HTML=function(a,b){Display.call(this);this.engine=a;this.engine_list=a.GetListOfEngines();this.InitTypeSelect(b);var c=b.insertCell();c.className="inner_table";var d=document.createElement("TABLE");d.className="inner_table";CreateTH(d.insertRow(),"Cooling");this.cool_cell=d.insertRow().insertCell();CreateTH(d.insertRow(),"Mounting");var e=d.insertRow().insertCell();CreateTH(d.insertRow(),"Upgrades");var f=d.insertRow().insertCell();c.appendChild(d);c=b.insertCell();c.className="inner_table";
d=document.createElement("TABLE");d.className="inner_table";CreateTH(d.insertRow(),"Cowls");var k=d.insertRow().insertCell();c.appendChild(d);this.InitMountSelect(e);this.InitUpgradeSelect(f);this.InitCowlSelect(k);this.InitStatDisplay(b)};$jscomp.inherits(Engine_HTML,Display);
Engine_HTML.prototype.InitTypeSelect=function(a){var b=this;this.e_pwr=document.createElement("INPUT");this.e_mass=document.createElement("INPUT");this.e_drag=document.createElement("INPUT");this.e_rely=document.createElement("INPUT");this.e_cool=document.createElement("INPUT");this.e_over=document.createElement("INPUT");this.e_fuel=document.createElement("INPUT");this.e_alti=document.createElement("INPUT");this.e_torq=document.createElement("INPUT");this.e_rumb=document.createElement("INPUT");this.e_cost=
document.createElement("INPUT");this.e_oil=document.createElement("INPUT");this.e_pulsejet=document.createElement("INPUT");this.cool_count=document.createElement("INPUT");this.cool_count.setAttribute("type","number");a=a.insertCell(0);this.e_select=document.createElement("SELECT");this.e_select.required=!0;a.appendChild(this.e_select);a.appendChild(document.createElement("BR"));for(var c=0;c<this.engine_list.length;c++){var d=this.engine_list[c],e=document.createElement("OPTION");e.text=d.name;this.e_select.add(e)}c=
document.createElement("OPTION");c.text="Custom";c.value=(-1).toString();this.e_select.add(c);a=CreateFlexSection(a);FlexInput("Power",this.e_pwr,a);FlexInput("Mass",this.e_mass,a);FlexInput("Drag",this.e_drag,a);FlexInput("Reliability",this.e_rely,a);FlexInput("Cooling",this.e_cool,a);FlexInput("Overspeed",this.e_over,a);FlexInput("Fuel Consumption",this.e_fuel,a);FlexInput("Altitude",this.e_alti,a);FlexInput("Torque",this.e_torq,a);FlexInput("Rumble",this.e_rumb,a);FlexInput("Cost",this.e_cost,
a);FlexCheckbox("Oil Tank",this.e_oil,a);FlexCheckbox("Pulsejet",this.e_pulsejet,a);this.e_select.onchange=function(){b.e_select.selectedIndex==b.engine_list.length?(b.SetInputDisable(!1),b.SendCustomStats()):(b.SetInputDisable(!0),b.engine.SetSelectedIndex(b.e_select.selectedIndex))};a=function(){b.SendCustomStats()};this.e_pwr.onchange=a;this.e_mass.onchange=a;this.e_drag.onchange=a;this.e_rely.onchange=a;this.e_cool.onchange=a;this.e_over.onchange=a;this.e_fuel.onchange=a;this.e_alti.onchange=
a;this.e_torq.onchange=a;this.e_rumb.onchange=a;this.e_cost.onchange=a;this.e_oil.onchange=a;this.e_pulsejet.onchange=a};Engine_HTML.prototype.UpdateEngine=function(a){this.engine=a};
Engine_HTML.prototype.InitMountSelect=function(a){var b=this,c=document.createElement("SPAN");c.innerHTML="Engine Mounting Location";a.appendChild(c);a.appendChild(document.createElement("BR"));this.mount_select=document.createElement("SELECT");c=$jscomp.makeIterator(this.engine.GetMountList());for(var d=c.next();!d.done;d=c.next()){d=d.value;var e=document.createElement("OPTION");e.text=d.name;e.value=d.pp_type;this.mount_select.add(e)}this.mount_select.required=!0;this.mount_select.selectedIndex=
this.engine.GetMountIndex();this.mount_select.onchange=function(){b.engine.SetMountIndex(b.mount_select.selectedIndex)};a.appendChild(this.mount_select);a.appendChild(document.createElement("BR"));this.pushpull_input=document.createElement("INPUT");this.torque_input=document.createElement("INPUT");a=CreateFlexSection(a);FlexCheckbox(" Push Pull",this.pushpull_input,a);FlexCheckbox(" Torque To Structure",this.torque_input,a);this.pushpull_input.checked=this.engine.GetUsePushPull();this.torque_input.checked=
this.engine.GetUsePushPull();this.pushpull_input.onchange=function(){b.engine.SetUsePushPull(b.pushpull_input.checked)};this.torque_input.onchange=function(){b.engine.SetTorqueToStruct(b.torque_input.checked)}};
Engine_HTML.prototype.InitUpgradeSelect=function(a){var b=this;this.ds_input=document.createElement("INPUT");this.gp_input=document.createElement("INPUT");this.gpr_input=document.createElement("INPUT");a=CreateFlexSection(a);FlexCheckbox("Extended Driveshafts",this.ds_input,a);FlexInput("Geared Propeller",this.gp_input,a);FlexInput("Negate Reliability Penalty",this.gpr_input,a);this.gp_input.onchange=function(){b.engine.SetGearCount(b.gp_input.valueAsNumber)};this.gpr_input.onchange=function(){b.engine.SetGearReliability(b.gpr_input.valueAsNumber)};
this.ds_input.onchange=function(){b.engine.SetUseExtendedDriveshaft(b.ds_input.checked)}};
Engine_HTML.prototype.InitStatDisplay=function(a){var b=a.insertCell();b.className="inner_table";a=document.createElement("TABLE");a.className="inner_table";b.appendChild(a);b=a.insertRow();CreateTH(b,"Power");CreateTH(b,"Mass");CreateTH(b,"Drag");b=a.insertRow();this.d_powr=b.insertCell();this.d_mass=b.insertCell();this.d_drag=b.insertCell();b=a.insertRow();CreateTH(b,"Reliability");CreateTH(b,"Visibility");CreateTH(b,"Overspeed");b=a.insertRow();this.d_rely=b.insertCell();this.d_rely.className=
"part_local";this.d_visi=b.insertCell();this.d_over=b.insertCell();b=a.insertRow();CreateTH(b,"Cost");CreateTH(b,"Altitude");CreateTH(b,"Fuel Consumption");b=a.insertRow();this.d_cost=b.insertCell();this.d_alti=b.insertCell();this.d_fuel=b.insertCell();b=a.insertRow();CreateTH(b,"Pitch Stab");CreateTH(b,"Lateral Stab");CreateTH(b,"Max Strain");b=a.insertRow();this.d_pstb=b.insertCell();this.d_lstb=b.insertCell();this.d_maxs=b.insertCell();b=a.insertRow();CreateTH(b,"Structure");CreateTH(b,"Flight Stress");
CreateTH(b,"Frame Sections");a=a.insertRow();this.d_strc=a.insertCell();this.d_fstr=a.insertCell();this.d_sect=a.insertCell()};
Engine_HTML.prototype.InitCowlSelect=function(a){var b=this;this.cowl_select=document.createElement("SELECT");for(var c=$jscomp.makeIterator(this.engine.GetCowlList()),d=c.next();!d.done;d=c.next()){d=d.value;var e=document.createElement("OPTION");e.text=d.name;this.cowl_select.add(e)}this.cowl_select.required=!0;this.cowl_select.selectedIndex=this.engine.GetMountIndex();this.cowl_select.onchange=function(){b.engine.SetCowl(b.cowl_select.selectedIndex)};a.appendChild(this.cowl_select)};
Engine_HTML.prototype.InitCoolingSelect=function(){for(var a=this;0<this.cool_cell.children.length;)this.cool_cell.removeChild(this.cool_cell.children[0]);if(this.e_oil.checked){this.e_cool.valueAsNumber=0;var b=document.createElement("SPAN");b.innerHTML="Rotary Engines use Oil Tanks.<br/>+1 Mass, Oil Tank is a Vital Component.";this.cool_cell.appendChild(b)}else if(0==this.e_cool.valueAsNumber)b=document.createElement("SPAN"),b.innerHTML="Air-Cooled Engine.<br/>All is well.",this.cool_cell.appendChild(b);
else{b=document.createElement("SPAN");b.innerHTML="    Select Radiator";this.cool_select||(this.cool_select=document.createElement("SELECT"),this.cool_select.required=!0);for(var c=this.engine.GetNumRadiators();0<this.cool_select.options.length;)this.cool_select.options.remove(0);for(var d=1;d<c+1;d++){var e=document.createElement("OPTION");e.innerText="Radiator #"+d.toString();this.cool_select.add(e)}this.cool_select.onchange=function(){a.engine.SetRadiator(a.cool_select.selectedIndex)};this.cool_select.selectedIndex=
this.engine.GetRadiator();this.cool_cell.appendChild(this.cool_select);this.cool_cell.appendChild(b);this.cool_cell.appendChild(document.createElement("BR"));b=document.createElement("SPAN");b.innerHTML="    Cooling Amount";this.cool_count.min="0";this.cool_count.valueAsNumber=this.engine.GetCooling();this.cool_count.max=this.engine.GetCurrentStats().stats.cooling.toString();this.cool_count.valueAsNumber>this.e_cool.valueAsNumber&&(this.cool_count.valueAsNumber=this.e_cool.valueAsNumber);this.cool_count.onchange=
function(){a.engine.SetCooling(a.cool_count.valueAsNumber)};this.cool_cell.appendChild(this.cool_count);this.cool_cell.appendChild(b)}};
Engine_HTML.prototype.SendCustomStats=function(){var a=new EngineStats;a.stats.power=this.e_pwr.valueAsNumber;a.stats.mass=this.e_mass.valueAsNumber;a.stats.drag=this.e_drag.valueAsNumber;a.stats.reliability=this.e_rely.valueAsNumber;a.stats.cooling=this.e_cool.valueAsNumber;a.overspeed=this.e_over.valueAsNumber;a.stats.fuelconsumption=this.e_fuel.valueAsNumber;a.altitude=this.e_alti.valueAsNumber;a.torque=this.e_torq.valueAsNumber;a.rumble=this.e_rumb.valueAsNumber;a.stats.cost=this.e_cost.valueAsNumber;
a.oiltank=this.e_oil.checked;a.pulsejet=this.e_pulsejet.checked;this.engine.SetCustomStats(a)};Engine_HTML.prototype.SetInputDisable=function(a){this.e_pwr.disabled=a;this.e_mass.disabled=a;this.e_drag.disabled=a;this.e_rely.disabled=a;this.e_cool.disabled=a;this.e_over.disabled=a;this.e_fuel.disabled=a;this.e_alti.disabled=a;this.e_torq.disabled=a;this.e_rumb.disabled=a;this.e_cost.disabled=a;this.e_oil.disabled=a;this.e_pulsejet.disabled=a};
Engine_HTML.prototype.UpdateDisplay=function(){var a=this.engine.GetSelectedIndex();0>a&&(a=this.engine_list.length);this.e_select.selectedIndex=a;this.e_select.selectedIndex==this.engine_list.length?this.SetInputDisable(!1):this.SetInputDisable(!0);a=this.engine.GetCurrentStats();this.e_pwr.valueAsNumber=a.stats.power;this.e_mass.valueAsNumber=a.stats.mass;this.e_drag.valueAsNumber=a.stats.drag;this.e_rely.valueAsNumber=a.stats.reliability;this.e_cool.valueAsNumber=a.stats.cooling;this.e_over.valueAsNumber=
a.overspeed;this.e_fuel.valueAsNumber=a.stats.fuelconsumption;this.e_alti.valueAsNumber=a.altitude;this.e_torq.valueAsNumber=a.torque;this.e_rumb.valueAsNumber=a.rumble;this.e_cost.valueAsNumber=a.stats.cost;this.e_oil.checked=a.oiltank;this.e_pulsejet.checked=a.pulsejet;this.InitCoolingSelect();this.mount_select.selectedIndex!=this.engine.GetMountIndex()&&(this.mount_select.selectedIndex=this.engine.GetMountIndex());this.pushpull_input.checked!=this.engine.GetUsePushPull()&&(this.pushpull_input.checked=
this.engine.GetUsePushPull());this.torque_input.checked!=this.engine.GetTorqueToStruct()&&(this.torque_input.checked=this.engine.GetTorqueToStruct());this.torque_input.checked!=this.engine.GetTorqueToStruct()&&(this.torque_input.checked=this.engine.GetTorqueToStruct());this.torque_input.disabled=!this.engine.CanTorqueToStruct();this.ds_input.checked!=this.engine.GetUseExtendedDriveshaft()&&(this.ds_input.checked=this.engine.GetUseExtendedDriveshaft());this.gp_input.valueAsNumber!=this.engine.GetGearCount()&&
(this.gp_input.valueAsNumber=this.engine.GetGearCount());this.gpr_input.valueAsNumber!=this.engine.GetGearReliability()&&(this.gpr_input.valueAsNumber=this.engine.GetGearReliability());if(a.pulsejet){this.mount_select.disabled=!0;this.mount_select.selectedIndex=-1;this.pushpull_input.disabled=!0;this.ds_input.disabled=!0;this.gp_input.disabled=!0;this.gpr_input.disabled=!0;for(var b=0;b<this.mount_select.options.length;b++){var c=this.mount_select.options[b];"fuselage"==c.value&&(c.disabled=!0)}this.cowl_select.disabled=
!0}else{this.mount_select.disabled=!1;this.pushpull_input.disabled=!1;this.ds_input.disabled=!1;this.gp_input.disabled=!1;this.gpr_input.disabled=!1;for(b=0;b<this.mount_select.options.length;b++)this.mount_select.options[b].disabled=!1;this.cowl_select.disabled=!1}this.cowl_select.selectedIndex=this.engine.GetCowl();b=this.engine.GetCowlEnabled();for(c=0;c<b.length;c++)this.cowl_select.options[c].disabled=!b[c];b=this.engine.PartStats();BlinkIfChanged(this.d_powr,b.power.toString());BlinkIfChanged(this.d_mass,
b.mass.toString());BlinkIfChanged(this.d_drag,b.drag.toString());BlinkIfChanged(this.d_rely,this.engine.GetReliability().toString());BlinkIfChanged(this.d_visi,b.visibility.toString());BlinkIfChanged(this.d_over,this.engine.GetOverspeed().toString());BlinkIfChanged(this.d_cost,b.cost.toString());BlinkIfChanged(this.d_alti,a.altitude.toString());BlinkIfChanged(this.d_fuel,b.fuelconsumption.toString());BlinkIfChanged(this.d_pstb,b.pitchstab.toString());BlinkIfChanged(this.d_lstb,b.latstab.toString());
BlinkIfChanged(this.d_maxs,b.maxstrain.toString());BlinkIfChanged(this.d_strc,b.structure.toString());BlinkIfChanged(this.d_fstr,b.flightstress.toString());BlinkIfChanged(this.d_sect,b.reqsections.toString())};var Radiator=function(a,b,c){Part.call(this);this.idx_coolant=this.idx_mount=this.idx_type=this.need_cool=0;this.type_list=a;this.mount_list=b;this.coolant_list=c};$jscomp.inherits(Radiator,Part);Radiator.prototype.toJSON=function(){return{type:this.idx_type,mount:this.idx_mount,coolant:this.idx_coolant}};
Radiator.prototype.fromJSON=function(a){this.idx_type=a.type;this.idx_mount=a.mount;this.idx_coolant=a.coolant};Radiator.prototype.GetTypeList=function(){return this.type_list};Radiator.prototype.GetMountList=function(){return this.mount_list};Radiator.prototype.GetCoolantList=function(){return this.coolant_list};Radiator.prototype.SetTypeIndex=function(a){this.idx_type=a;this.CalculateStats()};Radiator.prototype.GetTypeIndex=function(){return this.idx_type};
Radiator.prototype.SetMountIndex=function(a){this.idx_mount=a;this.CalculateStats()};Radiator.prototype.GetMountIndex=function(){return this.idx_mount};Radiator.prototype.SetCoolantIndex=function(a){this.idx_coolant=a;this.CalculateStats()};Radiator.prototype.GetCoolantIndex=function(){return this.idx_coolant};Radiator.prototype.SetNeedCool=function(a){this.need_cool=a};
Radiator.prototype.PartStats=function(){var a=new Stats;a.mass=3;a=a.Add(this.type_list[this.idx_type].stats);a=a.Add(this.mount_list[this.idx_mount].stats);a=a.Add(this.coolant_list[this.idx_coolant].stats);a.drag+=Math.ceil(this.type_list[this.idx_type].dragpercool*(this.need_cool-a.cooling));return a};Radiator.prototype.SetCalculateStats=function(a){this.CalculateStats=a};
var Radiator_HTML=function(a,b){Display.call(this);var c=this;this.radiator=b;var d=a.insertCell();this.type_select=document.createElement("SELECT");for(var e=$jscomp.makeIterator(this.radiator.GetTypeList()),f=e.next();!f.done;f=e.next()){f=f.value;var k=document.createElement("OPTION");k.text=f.name;this.type_select.add(k)}this.type_select.onchange=function(){c.radiator.SetTypeIndex(c.type_select.selectedIndex)};d.appendChild(this.type_select);d=a.insertCell();this.mount_select=document.createElement("SELECT");
e=$jscomp.makeIterator(this.radiator.GetMountList());for(f=e.next();!f.done;f=e.next())f=f.value,k=document.createElement("OPTION"),k.text=f.name,this.mount_select.add(k);this.mount_select.onchange=function(){c.radiator.SetMountIndex(c.mount_select.selectedIndex)};d.appendChild(this.mount_select);d=a.insertCell();this.coolant_select=document.createElement("SELECT");e=$jscomp.makeIterator(this.radiator.GetCoolantList());for(f=e.next();!f.done;f=e.next())f=f.value,k=document.createElement("OPTION"),
k.text=f.name,this.coolant_select.add(k);this.coolant_select.onchange=function(){c.radiator.SetCoolantIndex(c.coolant_select.selectedIndex)};d.appendChild(this.coolant_select);f=a.insertCell();d=document.createElement("TABLE");f.className="inner_table";d.className="inner_table";e=d.insertRow();CreateTH(e,"Mass");CreateTH(e,"Cost");CreateTH(e,"Drag");CreateTH(e,"Reliability");CreateTH(e,"Lateral Stab");e=d.insertRow();this.c_mass=e.insertCell();this.c_cost=e.insertCell();this.c_drag=e.insertCell();
this.c_rely=e.insertCell();this.c_lstb=e.insertCell();f.appendChild(d)};$jscomp.inherits(Radiator_HTML,Display);Radiator_HTML.prototype.UpdateRadiator=function(a){this.radiator=a};
Radiator_HTML.prototype.UpdateDisplay=function(){this.type_select.selectedIndex=this.radiator.GetTypeIndex();this.mount_select.selectedIndex=this.radiator.GetMountIndex();this.coolant_select.selectedIndex=this.radiator.GetCoolantIndex();var a=this.radiator.PartStats();BlinkIfChanged(this.c_mass,a.mass.toString());BlinkIfChanged(this.c_cost,a.cost.toString());BlinkIfChanged(this.c_drag,a.drag.toString());BlinkIfChanged(this.c_rely,a.reliability.toString());BlinkIfChanged(this.c_lstb,a.latstab.toString())};
var Engines_HTML=function(a){Display.call(this);var b=this;this.eng=a;this.engines=[];this.radiators=[];this.tbl=document.getElementById("table_engine");this.tblR=document.getElementById("table_radiator");this.num_engines=document.getElementById("num_engines");this.num_engines.onchange=function(){b.eng.SetNumberOfEngines(b.num_engines.valueAsNumber)};this.num_engines.valueAsNumber=this.eng.GetNumberOfEngines();this.num_radiators=document.getElementById("num_radiators");this.num_radiators.onchange=
function(){b.eng.SetNumberOfRadiators(b.num_radiators.valueAsNumber)};this.num_radiators.valueAsNumber=this.eng.GetNumberOfRadiators();this.is_asymmetric=document.getElementById("asymmetric");this.is_asymmetric.oninput=function(){b.eng.SetAsymmetry(b.is_asymmetric.checked)};this.is_asymmetric.checked=this.eng.GetAsymmetry()};$jscomp.inherits(Engines_HTML,Display);
Engines_HTML.prototype.UpdateDisplay=function(){var a=this.eng.GetNumberOfEngines();this.tbl.style.display=0==a?"none":"";for(this.num_engines.valueAsNumber=a;this.engines.length>a;)this.engines.pop(),this.tbl.deleteRow(this.engines.length+1);for(;this.engines.length<a;){var b=this.eng.GetEngine(this.engines.length);b=new Engine_HTML(b,this.tbl.insertRow());this.engines.push(b)}for(b=0;b<a;b++)this.engines[b].UpdateEngine(this.eng.GetEngine(b));a=this.eng.GetNumberOfRadiators();this.num_radiators.valueAsNumber=
a;0==a?(this.tblR.style.display="none",this.num_radiators.disabled=!0):(this.tblR.style.display="",this.num_radiators.disabled=!1);for(;this.radiators.length>a;)this.radiators.pop(),this.tblR.deleteRow(this.radiators.length+1);for(;this.radiators.length<a;)b=new Radiator_HTML(this.tblR.insertRow(),this.eng.GetRadiator(this.radiators.length)),this.radiators.push(b);for(b=0;b<a;b++)this.radiators[b].UpdateRadiator(this.eng.GetRadiator(b));this.is_asymmetric.checked=this.eng.GetAsymmetry();b=$jscomp.makeIterator(this.engines);
for(a=b.next();!a.done;a=b.next())a.value.UpdateDisplay();b=$jscomp.makeIterator(this.radiators);for(a=b.next();!a.done;a=b.next())a.value.UpdateDisplay()};
var Propeller_HTML=function(a){Display.call(this);var b=this;this.prop=a;this.select_prop=document.getElementById("propeller_pitch");a=$jscomp.makeIterator(a.GetPropList());for(var c=a.next();!c.done;c=a.next()){c=c.value;var d=document.createElement("OPTION");d.text=c.name;this.select_prop.add(d)}this.select_prop.onchange=function(){b.prop.SetPropIndex(b.select_prop.selectedIndex)};this.input_variable=document.getElementById("propeller_variable");this.input_variable.onchange=function(){b.prop.SetVariable(b.input_variable.checked)}};
$jscomp.inherits(Propeller_HTML,Display);Propeller_HTML.prototype.UpdateDisplay=function(){this.input_variable.checked=this.prop.GetVariable();this.input_variable.disabled=!this.prop.CanBeVariable();this.select_prop.selectedIndex=this.prop.GetPropIndex();this.select_prop.disabled=!1;this.prop.GetHavePropeller()||(this.input_variable.disabled=!0,this.select_prop.disabled=!0,this.select_prop.selectedIndex=-1)};
var Frames_HTML=function(a){Display.call(this);var b=this;this.frames=a;a=document.getElementById("table_frames");var c=a.insertRow();this.c_frame=c.insertCell();this.c_skin=c.insertCell();this.c_options=c.insertCell();this.c_stats=c.insertCell();this.c_stats.className="inner_table";this.c_stats.rowSpan=0;c=document.createElement("TABLE");c.className="inner_table";var d=c.insertRow();CreateTH(d,"Mass");CreateTH(d,"Drag");CreateTH(d,"Cost");d=c.insertRow();this.d_mass=d.insertCell();this.d_drag=d.insertCell();
this.d_cost=d.insertCell();d=c.insertRow();CreateTH(d,"Structure");CreateTH(d,"Toughness");CreateTH(d,"Visibility");d=c.insertRow();this.d_strc=d.insertCell();this.d_tugh=d.insertCell();this.d_visi=d.insertCell();d=c.insertRow();CreateTH(d,"Wing Area");CreateTH(d,"Flammable");CreateTH(d,"Pitch Stability");d=c.insertRow();this.d_area=d.insertCell();this.d_flammable=d.insertCell();this.d_pstb=d.insertCell();d=c.insertRow();CreateTH(d,"Max Strain");CreateTH(d,"");CreateTH(d,"");d=c.insertRow();this.d_strn=
d.insertCell();d.insertCell();d.insertCell();this.c_stats.appendChild(c);c=a.insertRow();CreateTH(c,"Tail Frame Type");CreateTH(c,"Tail Skin Type");CreateTH(c,"Tail Frame Options");a=a.insertRow();this.t_frame=a.insertCell();this.t_skin=a.insertCell();this.t_options=a.insertCell();this.t_select=document.getElementById("tail_type");this.t_farman=document.getElementById("tail_farman");this.t_boom=document.getElementById("tail_boom");this.t_fwing=document.getElementById("flying_wing");a=$jscomp.makeIterator(this.frames.GetTailList());
for(c=a.next();!c.done;c=a.next())c=c.value,d=document.createElement("OPTION"),d.text=c.name,this.t_select.add(d);this.t_select.onchange=function(){b.frames.SetTailType(b.t_select.selectedIndex)};this.t_farman.onchange=function(){b.frames.SetUseFarman(b.t_farman.checked)};this.t_boom.onchange=function(){b.frames.SetUseBoom(b.t_boom.checked)};this.t_fwing.onchange=function(){b.frames.SetFlyingWing(b.t_fwing.checked)}};$jscomp.inherits(Frames_HTML,Display);
Frames_HTML.prototype.UpdateDisplay=function(){for(;0<this.c_frame.children.length;)this.c_frame.removeChild(this.c_frame.children[0]);for(;0<this.c_skin.children.length;)this.c_skin.removeChild(this.c_skin.children[0]);for(;0<this.c_options.children.length;)this.c_options.removeChild(this.c_options.children[0]);for(;0<this.t_frame.children.length;)this.t_frame.removeChild(this.t_frame.children[0]);for(;0<this.t_skin.children.length;)this.t_skin.removeChild(this.t_skin.children[0]);for(;0<this.t_options.children.length;)this.t_options.removeChild(this.t_options.children[0]);
for(var a=this.frames.GetSectionList(),b=this.frames.GetTailSectionList(),c=this.frames.GetSkinList(),d=!1,e=0;e<a.length;e++){var f=a[e];this.UpdateSection(e,f);d=d||c[f.skin].flammable}this.t_select.selectedIndex=this.frames.GetTailType();this.t_farman.disabled=this.frames.GetUseBoom();this.t_boom.disabled=this.frames.GetUseFarman();this.t_fwing.disabled=!this.frames.CanFlyingWing();this.t_fwing.checked=this.frames.GetFlyingWing();for(a=0;a<b.length;a++)e=b[a],this.UpdateTailSection(a,e),d=d||c[e.skin].flammable;
d?BlinkIfChanged(this.d_flammable,"Yes"):BlinkIfChanged(this.d_flammable,"No");b=this.frames.PartStats();BlinkIfChanged(this.d_mass,b.mass.toString());BlinkIfChanged(this.d_drag,b.drag.toString());BlinkIfChanged(this.d_cost,b.cost.toString());BlinkIfChanged(this.d_strc,b.structure.toString());BlinkIfChanged(this.d_tugh,b.toughness.toString());BlinkIfChanged(this.d_visi,b.visibility.toString());BlinkIfChanged(this.d_area,b.wingarea.toString());BlinkIfChanged(this.d_pstb,b.pitchstab.toString());BlinkIfChanged(this.d_strn,
b.maxstrain.toString())};
Frames_HTML.prototype.UpdateSection=function(a,b){var c=this,d=this.frames.GetFrameList(),e=this.frames.GetSkinList(),f=document.createElement("SPAN"),k=document.createElement("BUTTON");k.textContent="-";k.onclick=function(){c.frames.DeleteSection(a)};k.disabled=!b.internal_bracing&&!this.frames.PossibleRemoveSections();var h=document.createElement("BUTTON");h.textContent="+";h.disabled=b.internal_bracing&&!this.frames.PossibleInternalBracing();h.onclick=function(){c.frames.DuplicateSection(a)};var g=
document.createElement("SELECT");d=$jscomp.makeIterator(d);for(var l=d.next();!l.done;l=d.next()){l=l.value;var q=document.createElement("OPTION");q.text=l.name;b.geodesic&&!l.geodesic&&(q.disabled=!0);b.internal_bracing||0!=l.basestruct||(q.disabled=!0);g.add(q)}g.onchange=function(){c.frames.SetFrame(a,g.selectedIndex)};g.selectedIndex=b.frame;f.appendChild(k);f.appendChild(h);f.appendChild(g);this.c_frame.appendChild(f);this.c_frame.appendChild(document.createElement("BR"));var n=document.createElement("SELECT");
e=$jscomp.makeIterator(e);for(f=e.next();!f.done;f=e.next())f=f.value,k=document.createElement("OPTION"),k.text=f.name,b.monocoque&&!f.monocoque&&(k.disabled=!0),n.add(k);b.internal_bracing&&(n.disabled=!0);n.onchange=function(){c.frames.SetSkin(a,n.selectedIndex)};n.selectedIndex=b.skin;this.c_skin.appendChild(n);this.c_skin.appendChild(document.createElement("BR"));e=document.createElement("SPAN");var r=document.createElement("INPUT");CreateCheckbox("Geodesic",r,e,!1);r.checked=b.geodesic;r.disabled=
!this.frames.PossibleGeodesic(a);r.onchange=function(){c.frames.SetGeodesic(a,r.checked)};var t=document.createElement("INPUT");CreateCheckbox("Monocoque",t,e,!1);t.checked=b.monocoque;t.disabled=!this.frames.PossibleMonocoque(a);t.onchange=function(){c.frames.SetMonocoque(a,t.checked)};var u=document.createElement("INPUT");CreateCheckbox("Internal Bracing",u,e,!1);u.checked=b.internal_bracing;b.internal_bracing||this.frames.PossibleInternalBracing()&&this.frames.PossibleRemoveSections()||(u.disabled=
!0);u.onchange=function(){c.frames.SetInternalBracing(a,u.checked)};var v=document.createElement("INPUT");CreateCheckbox("Lifting Body",v,e,!1);v.checked=b.lifting_body;v.disabled=!this.frames.PossibleMonocoque(a);v.onchange=function(){c.frames.SetLiftingBody(a,v.checked)};this.c_options.appendChild(e);this.c_options.appendChild(document.createElement("BR"))};
Frames_HTML.prototype.UpdateTailSection=function(a,b){var c=this,d=this.frames.GetFrameList(),e=this.frames.GetSkinList(),f=document.createElement("SELECT");d=$jscomp.makeIterator(d);for(var k=d.next();!k.done;k=d.next()){k=k.value;var h=document.createElement("OPTION");h.text=k.name;b.geodesic&&!k.geodesic&&(h.disabled=!0);0!=k.basestruct&&f.add(h)}f.onchange=function(){c.frames.SetTailFrame(a,f.selectedIndex)};f.selectedIndex=b.frame;this.t_frame.appendChild(f);this.t_frame.appendChild(document.createElement("BR"));
var g=document.createElement("SELECT");e=$jscomp.makeIterator(e);for(d=e.next();!d.done;d=e.next())d=d.value,k=document.createElement("OPTION"),k.text=d.name,b.monocoque&&!d.monocoque&&(k.disabled=!0),g.add(k);this.frames.GetUseFarman()&&(g.disabled=!0);g.onchange=function(){c.frames.SetTailSkin(a,g.selectedIndex)};g.selectedIndex=b.skin;this.t_skin.appendChild(g);this.t_skin.appendChild(document.createElement("BR"));e=document.createElement("SPAN");var l=document.createElement("INPUT");CreateCheckbox("Geodesic",
l,e,!1);l.checked=b.geodesic;l.disabled=!this.frames.PossibleTailGeodesic(a);l.onchange=function(){c.frames.SetTailGeodesic(a,l.checked)};var q=document.createElement("INPUT");CreateCheckbox("Monocoque",q,e,!1);q.checked=b.monocoque;q.disabled=!this.frames.PossibleTailMonocoque(a);q.onchange=function(){c.frames.SetTailMonocoque(a,q.checked)};var n=document.createElement("INPUT");CreateCheckbox("Lifting Body",n,e,!1);n.checked=b.lifting_body;n.disabled=!this.frames.PossibleTailMonocoque(a);n.onchange=
function(){c.frames.SetTailLiftingBody(a,n.checked)};this.t_options.appendChild(e);this.t_options.appendChild(document.createElement("BR"))};
var Wings_HTML=function(a){Display.call(this);var b=this;this.wings=a;this.fw_list=[];this.mw_list=[];this.stagger=document.getElementById("wing_stagger");this.closed=document.getElementById("wing_closed");this.swept=document.getElementById("wing_swept");a=$jscomp.makeIterator(a.GetStaggerList());for(var c=a.next();!c.done;c=a.next()){c=c.value;var d=document.createElement("OPTION");d.textContent=c.name;this.stagger.append(d)}this.stagger.onchange=function(){b.wings.SetStagger(b.stagger.selectedIndex)};
this.closed.onchange=function(){b.wings.SetClosed(b.closed.checked)};this.swept.onchange=function(){b.wings.SetSwept(b.swept.checked)};c=document.getElementById("wing_table");a=c.insertRow();c=c.insertRow();d=document.createElement("TH");d.textContent="Full Wings";a.appendChild(d);d=document.createElement("TH");d.textContent="Miniature Wings";c.appendChild(d);this.full_cell=a.insertCell();this.mini_cell=c.insertCell();a=a.insertCell();a.rowSpan=0;this.InitStatDisplay(a)};
$jscomp.inherits(Wings_HTML,Display);
Wings_HTML.prototype.InitStatDisplay=function(a){a.className="inner_table";var b=document.createElement("TABLE");b.className="inner_table";a.appendChild(b);a=b.insertRow();CreateTH(a,"Wing Area");CreateTH(a,"Mass");CreateTH(a,"Drag");a=b.insertRow();this.d_area=a.insertCell();this.d_mass=a.insertCell();this.d_drag=a.insertCell();a=b.insertRow();CreateTH(a,"Control");CreateTH(a,"Pitch Stability");CreateTH(a,"Lateral Stability");a=b.insertRow();this.d_cont=a.insertCell();this.d_pstb=a.insertCell();
this.d_lstb=a.insertCell();a=b.insertRow();CreateTH(a,"Max Strain");CreateTH(a,"Crash Safety");CreateTH(a,"Lift Bleed");a=b.insertRow();this.d_maxs=a.insertCell();this.d_crsh=a.insertCell();this.d_lift=a.insertCell();a=b.insertRow();CreateTH(a,"Cost");CreateTH(a,"Charge");CreateTH(a,"Flammable");b=b.insertRow();this.d_cost=b.insertCell();this.d_chrg=b.insertCell();this.d_flam=b.insertCell()};
Wings_HTML.prototype.UpdateDisplay=function(){this.stagger.selectedIndex=this.wings.GetStagger();this.closed.checked=this.wings.GetClosed();this.closed.disabled=!this.wings.CanClosed();this.swept.checked=this.wings.GetSwept();this.fw_add&&this.full_cell.removeChild(this.fw_add);this.mw_add&&this.mini_cell.removeChild(this.mw_add);for(var a=this.wings.GetWingList(),b=0;b<a.length;b++)this.fw_list.length==b&&this.AddFullWing(),this.UpdateFullWing(this.fw_list[b],b,a[b]);for(;this.fw_list.length>a.length;)this.PopFullWing();
b=this.wings.GetMiniWingList();for(var c=0;c<b.length;c++)this.mw_list.length==c&&this.AddMiniWing(),this.UpdateMiniWing(this.mw_list[c],c,b[c]);for(;this.mw_list.length>b.length;)this.PopMiniWing();this.CreateFWAdd(a.length);this.CreateMWAdd(b.length);a=this.wings.PartStats();BlinkIfChanged(this.d_area,a.wingarea.toString());BlinkIfChanged(this.d_mass,a.mass.toString());BlinkIfChanged(this.d_drag,a.drag.toString());BlinkIfChanged(this.d_cont,a.control.toString());BlinkIfChanged(this.d_pstb,a.pitchstab.toString());
BlinkIfChanged(this.d_lstb,a.latstab.toString());BlinkIfChanged(this.d_maxs,a.maxstrain.toString());BlinkIfChanged(this.d_lift,a.liftbleed.toString());BlinkIfChanged(this.d_chrg,"0");BlinkIfChanged(this.d_crsh,a.crashsafety.toString());BlinkIfChanged(this.d_cost,a.cost.toString());this.wings.IsFlammable()?BlinkIfChanged(this.d_flam,"Yes"):BlinkIfChanged(this.d_flam,"No")};
Wings_HTML.prototype.AddFullWing=function(){var a={span:document.createElement("SPAN"),deck:document.createElement("SELECT"),skin:document.createElement("SELECT"),area:document.createElement("INPUT"),wspan:document.createElement("INPUT"),dihedral:document.createElement("INPUT"),anhedral:document.createElement("INPUT"),br:document.createElement("BR")};a.span.appendChild(a.deck);CreateSpace(a.span);var b=this.wings.GetDeckList(),c=document.createElement("OPTION");c.textContent="None";a.deck.append(c);
for(c=0;c<b.length;c++){var d=b[c],e=document.createElement("OPTION");e.textContent=d.name;a.deck.append(e)}a.span.appendChild(a.skin);CreateSpace(a.span);this.wings.GetSkinList();b=$jscomp.makeIterator(this.wings.GetSkinList());for(c=b.next();!c.done;c=b.next())c=c.value,d=document.createElement("OPTION"),d.textContent=c.name,a.skin.append(d);CreateInput(" Area ",a.area,a.span,!1);a.area.min="3";CreateInput(" Span ",a.wspan,a.span,!1);a.wspan.min="1";CreateInput(" Dihedral ",a.dihedral,a.span,!1);
a.dihedral.min="0";CreateInput(" Anhedral ",a.anhedral,a.span,!1);a.anhedral.min="0";this.full_cell.appendChild(a.span);this.full_cell.appendChild(a.br);this.fw_list.push(a)};Wings_HTML.prototype.PopFullWing=function(){var a=this.fw_list.pop();this.full_cell.removeChild(a.span);this.full_cell.removeChild(a.br)};
Wings_HTML.prototype.UpdateFullWing=function(a,b,c){for(var d=this,e=1;e<a.deck.options.length;e++){var f=a.deck.options[e];c.deck==e||this.wings.CanAddFullWing(e-1)||this.wings.CanMoveFullWing(b,e-1)?f.disabled=!1:f.disabled=!0}a.deck.oninput=function(){var e=Object.assign({},c);e.deck=a.deck.selectedIndex-1;d.wings.SetFullWing(b,e)};a.deck.selectedIndex=c.deck+1;a.skin.oninput=function(){var e=Object.assign({},c);e.surface=a.skin.selectedIndex;d.wings.SetFullWing(b,e)};a.skin.selectedIndex=c.surface;
a.area.onchange=function(){var e=Object.assign({},c);e.area=a.area.valueAsNumber;d.wings.SetFullWing(b,e)};a.area.valueAsNumber=c.area;a.wspan.onchange=function(){var e=Object.assign({},c);e.span=a.wspan.valueAsNumber;d.wings.SetFullWing(b,e)};a.wspan.valueAsNumber=c.span;a.dihedral.onchange=function(){var e=Object.assign({},c);e.dihedral=a.dihedral.valueAsNumber;d.wings.SetFullWing(b,e)};a.dihedral.max=(c.span-c.anhedral-1).toString();a.dihedral.valueAsNumber=c.dihedral;a.anhedral.onchange=function(){var e=
Object.assign({},c);e.anhedral=a.anhedral.valueAsNumber;d.wings.SetFullWing(b,e)};a.anhedral.max=(c.span-c.dihedral-1).toString();a.anhedral.valueAsNumber=c.anhedral};
Wings_HTML.prototype.AddMiniWing=function(){var a={span:document.createElement("SPAN"),deck:document.createElement("SELECT"),skin:document.createElement("SELECT"),area:document.createElement("INPUT"),wspan:document.createElement("INPUT"),dihedral:void 0,anhedral:void 0,br:document.createElement("BR")};a.span.appendChild(a.deck);CreateSpace(a.span);var b=this.wings.GetDeckList(),c=document.createElement("OPTION");c.textContent="None";a.deck.append(c);for(c=0;c<b.length;c++){var d=b[c],e=document.createElement("OPTION");
e.textContent=d.name;a.deck.append(e)}a.span.appendChild(a.skin);CreateSpace(a.span);this.wings.GetSkinList();b=$jscomp.makeIterator(this.wings.GetSkinList());for(c=b.next();!c.done;c=b.next())c=c.value,d=document.createElement("OPTION"),d.textContent=c.name,a.skin.append(d);CreateInput(" Area ",a.area,a.span,!1);a.area.min="1";a.area.max="2";CreateInput(" Span ",a.wspan,a.span,!1);a.wspan.min="1";this.mini_cell.appendChild(a.span);this.mini_cell.appendChild(a.br);this.mw_list.push(a)};
Wings_HTML.prototype.UpdateMiniWing=function(a,b,c){for(var d=this,e=1;e<a.deck.options.length;e++){var f=a.deck.options[e];c.deck==e||this.wings.CanAddMiniWing(e-1)||this.wings.CanMoveMiniWing(b,e-1)?f.disabled=!1:f.disabled=!0}a.deck.oninput=function(){var e=Object.assign({},c);e.deck=a.deck.selectedIndex-1;d.wings.SetMiniWing(b,e)};a.deck.selectedIndex=c.deck+1;a.skin.oninput=function(){var e=Object.assign({},c);e.surface=a.skin.selectedIndex;d.wings.SetMiniWing(b,e)};a.skin.selectedIndex=c.surface;
a.area.onchange=function(){var e=Object.assign({},c);e.area=a.area.valueAsNumber;d.wings.SetMiniWing(b,e)};a.area.valueAsNumber=c.area;a.wspan.onchange=function(){var e=Object.assign({},c);e.span=a.wspan.valueAsNumber;d.wings.SetMiniWing(b,e)};a.wspan.valueAsNumber=c.span};Wings_HTML.prototype.PopMiniWing=function(){var a=this.mw_list.pop();this.mini_cell.removeChild(a.span);this.mini_cell.removeChild(a.br)};
Wings_HTML.prototype.CreateFWAdd=function(a){var b=this;this.fw_add=document.createElement("SELECT");var c=this.wings.GetDeckList(),d=document.createElement("OPTION");d.textContent="None";this.fw_add.append(d);d=!1;for(var e=0;e<c.length;e++){var f=c[e],k=document.createElement("OPTION");k.textContent=f.name;this.wings.CanAddFullWing(e)?d=!0:k.disabled=!0;this.fw_add.append(k)}this.fw_add.oninput=function(){b.wings.SetFullWing(a,{surface:0,area:10,span:5,dihedral:0,anhedral:0,deck:b.fw_add.selectedIndex-
1})};this.fw_add.selectedIndex=0;this.fw_add.disabled=!d;this.full_cell.appendChild(this.fw_add)};
Wings_HTML.prototype.CreateMWAdd=function(a){var b=this;this.mw_add=document.createElement("SELECT");var c=this.wings.GetDeckList(),d=document.createElement("OPTION");d.textContent="None";this.mw_add.append(d);d=!1;for(var e=0;e<c.length;e++){var f=c[e],k=document.createElement("OPTION");k.textContent=f.name;this.wings.CanAddMiniWing(e)?d=!0:k.disabled=!0;this.mw_add.append(k)}this.mw_add.oninput=function(){b.wings.SetMiniWing(a,{surface:0,area:2,span:2,dihedral:0,anhedral:0,deck:b.mw_add.selectedIndex-
1})};this.mw_add.selectedIndex=0;this.mw_add.disabled=!d;this.mini_cell.appendChild(this.mw_add)};
var Stabilizers_HTML=function(a){Display.call(this);var b=this;this.stab=a;var c=document.getElementById("stab_table").insertRow(),d=c.insertCell(),e=c.insertCell();this.h_type=document.createElement("SELECT");this.h_count=document.createElement("INPUT");d.appendChild(this.h_type);d.append(document.createElement("BR"));CreateInput(" Stabilizers",this.h_count,d);this.h_count.min="0";this.h_count.max="20";this.h_count.onchange=function(){b.stab.SetHStabCount(b.h_count.valueAsNumber)};this.h_type.onchange=
function(){b.stab.SetHStabType(b.h_type.selectedIndex)};d=$jscomp.makeIterator(a.GetHStabList());for(var f=d.next();!f.done;f=d.next()){f=f.value;var k=document.createElement("OPTION");k.text=f.name;this.h_type.add(k)}this.v_type=document.createElement("SELECT");this.v_count=document.createElement("INPUT");e.appendChild(this.v_type);e.appendChild(document.createElement("BR"));CreateInput(" Stabilizers",this.v_count,e);this.v_count.min="0";this.v_count.max="20";this.v_count.onchange=function(){b.stab.SetVStabCount(b.v_count.valueAsNumber)};
this.v_type.onchange=function(){b.stab.SetVStabType(b.v_type.selectedIndex)};a=$jscomp.makeIterator(a.GetVStabList());for(f=a.next();!f.done;f=a.next())e=f.value,d=document.createElement("OPTION"),d.text=e.name,this.v_type.add(d);c=c.insertCell();c.rowSpan=0;this.InitStatDisplay(c)};$jscomp.inherits(Stabilizers_HTML,Display);
Stabilizers_HTML.prototype.InitStatDisplay=function(a){a.className="inner_table";var b=document.createElement("TABLE");b.className="inner_table";a.appendChild(b);a=b.insertRow();CreateTH(a,"Drag");CreateTH(a,"Control");CreateTH(a,"Cost");a=b.insertRow();this.d_drag=a.insertCell();this.d_cont=a.insertCell();this.d_cost=a.insertCell();a=b.insertRow();CreateTH(a,"Pitch Stability");CreateTH(a,"Lateral Stability");CreateTH(a,"Lift Bleed");b=b.insertRow();this.d_pstb=b.insertCell();this.d_lstb=b.insertCell();
this.d_lift=b.insertCell()};
Stabilizers_HTML.prototype.UpdateDisplay=function(){this.h_type.selectedIndex=this.stab.GetHStabType();this.v_type.selectedIndex=this.stab.GetVStabType();for(var a=this.stab.GetHValidList(),b=0;b<a.length;b++)this.h_type.options[b].disabled=!a[b];a=this.stab.GetVValidList();for(b=0;b<a.length;b++)this.v_type.options[b].disabled=!a[b];this.h_count.valueAsNumber=this.stab.GetHStabCount();this.h_count.step=this.stab.GetHStabIncrement().toString();this.v_count.valueAsNumber=this.stab.GetVStabCount();
this.v_count.step=this.stab.GetVStabIncrement().toString();a=this.stab.PartStats();BlinkIfChanged(this.d_drag,a.drag.toString());BlinkIfChanged(this.d_cont,a.control.toString());BlinkIfChanged(this.d_cost,a.cost.toString());BlinkIfChanged(this.d_pstb,a.pitchstab.toString());BlinkIfChanged(this.d_lstb,a.latstab.toString());BlinkIfChanged(this.d_lift,a.liftbleed.toString())};
var ControlSurfaces_HTML=function(a){Display.call(this);var b=this;this.cs=a;var c=document.getElementById("tbl_control_surfaces").insertRow(),d=c.insertCell();this.aileron_select=document.createElement("SELECT");for(var e=$jscomp.makeIterator(a.GetAileronList()),f=e.next();!f.done;f=e.next()){f=f.value;var k=document.createElement("OPTION");k.text=f.name;this.aileron_select.add(k)}this.aileron_select.onchange=function(){b.cs.SetAileron(b.aileron_select.selectedIndex)};this.rudder_select=document.createElement("SELECT");
e=$jscomp.makeIterator(a.GetRudderList());for(f=e.next();!f.done;f=e.next())f=f.value,k=document.createElement("OPTION"),k.text=f.name,this.rudder_select.add(k);this.rudder_select.onchange=function(){b.cs.SetRudder(b.rudder_select.selectedIndex)};this.elevator_select=document.createElement("SELECT");e=$jscomp.makeIterator(a.GetElevatorList());for(f=e.next();!f.done;f=e.next())f=f.value,k=document.createElement("OPTION"),k.text=f.name,this.elevator_select.add(k);this.elevator_select.onchange=function(){b.cs.SetElevator(b.elevator_select.selectedIndex)};
this.flaps_select=document.createElement("SELECT");e=$jscomp.makeIterator(a.GetFlapsList());for(f=e.next();!f.done;f=e.next())f=f.value,k=document.createElement("OPTION"),k.text=f.name,this.flaps_select.add(k);this.flaps_select.onchange=function(){b.cs.SetFlaps(b.flaps_select.selectedIndex)};this.slats_select=document.createElement("SELECT");e=$jscomp.makeIterator(a.GetSlatsList());for(f=e.next();!f.done;f=e.next())f=f.value,k=document.createElement("OPTION"),k.text=f.name,this.slats_select.add(k);
this.slats_select.onchange=function(){b.cs.SetSlats(b.slats_select.selectedIndex)};d=CreateFlexSection(d);FlexSelect("Ailerons",this.aileron_select,d);FlexSelect("Rudders",this.rudder_select,d);FlexSelect("Elevators",this.elevator_select,d);FlexSelect("Flaps",this.flaps_select,d);FlexSelect("Slats",this.slats_select,d);d=c.insertCell();d=CreateFlexSection(d);this.drag_chbx=[];a=a.GetDragList();for(f={$jscomp$loop$prop$i$225:0};f.$jscomp$loop$prop$i$225<a.length;f={$jscomp$loop$prop$i$225:f.$jscomp$loop$prop$i$225,
$jscomp$loop$prop$cbx$226:f.$jscomp$loop$prop$cbx$226},f.$jscomp$loop$prop$i$225++)f.$jscomp$loop$prop$cbx$226=document.createElement("INPUT"),FlexCheckbox(a[f.$jscomp$loop$prop$i$225].name,f.$jscomp$loop$prop$cbx$226,d),f.$jscomp$loop$prop$cbx$226.onchange=function(a){return function(){b.cs.SetDrag(a.$jscomp$loop$prop$i$225,a.$jscomp$loop$prop$cbx$226.checked)}}(f),this.drag_chbx.push(f.$jscomp$loop$prop$cbx$226);this.InitStatDisplay(c.insertCell())};$jscomp.inherits(ControlSurfaces_HTML,Display);
ControlSurfaces_HTML.prototype.InitStatDisplay=function(a){a.className="inner_table";var b=document.createElement("TABLE");b.className="inner_table";a.appendChild(b);a=b.insertRow();CreateTH(a,"Drag");CreateTH(a,"Mass");CreateTH(a,"Cost");a=b.insertRow();this.d_drag=a.insertCell();this.d_mass=a.insertCell();this.d_cost=a.insertCell();a=b.insertRow();CreateTH(a,"Control");CreateTH(a,"Pitch Stability");CreateTH(a,"Lateral Stability");a=b.insertRow();this.d_cont=a.insertCell();this.d_pstb=a.insertCell();
this.d_lstb=a.insertCell();a=b.insertRow();CreateTH(a,"Lift Bleed");CreateTH(a,"Crash Safety");CreateTH(a," ");b=b.insertRow();this.d_lift=b.insertCell();this.d_crsh=b.insertCell();this.d_none=b.insertCell()};
ControlSurfaces_HTML.prototype.UpdateDisplay=function(){this.aileron_select.selectedIndex=this.cs.GetAileron();this.rudder_select.selectedIndex=this.cs.GetRudder();this.elevator_select.selectedIndex=this.cs.GetElevator();this.flaps_select.selectedIndex=this.cs.GetFlaps();this.slats_select.selectedIndex=this.cs.GetSlats();for(var a=this.cs.GetDrag(),b=0;b<this.drag_chbx.length;b++)this.drag_chbx[b].checked=a[b];a=this.cs.PartStats();b=a.cost+this.cs.GetFlapCost();BlinkIfChanged(this.d_drag,a.drag.toString());
BlinkIfChanged(this.d_mass,a.mass.toString());BlinkIfChanged(this.d_cost,b.toString());BlinkIfChanged(this.d_cont,a.control.toString());BlinkIfChanged(this.d_pstb,a.pitchstab.toString());BlinkIfChanged(this.d_lstb,a.latstab.toString());BlinkIfChanged(this.d_lift,a.liftbleed.toString());BlinkIfChanged(this.d_crsh,a.crashsafety.toString())};
var Reinforcement_HTML=function(a){Display.call(this);this.rf=a;this.ext_wood_inp=[];this.ext_steel_inp=[];this.cant_inp=[];a=document.getElementById("tbl_reinforcements").insertRow();this.InitExternal(a.insertCell());this.InitInternal(a.insertCell());this.InitStatDisplay(a.insertCell())};$jscomp.inherits(Reinforcement_HTML,Display);
Reinforcement_HTML.prototype.InitExternal=function(a){var b=this;a=CreateFlexSection(a);var c=document.createElement("DIV"),d=document.createElement("DIV"),e=document.createElement("DIV");c.classList.add("flex-container");d.classList.add("flex-container");e.classList.add("flex-container");a.div0.appendChild(c);a.div0.appendChild(d);a.div0.appendChild(e);for(var f={div0:a.div0,div1:a.div2,div2:c},k={div0:a.div0,div1:d,div2:e},h=this.rf.GetExternalList(),g={$jscomp$loop$prop$i$230:0};g.$jscomp$loop$prop$i$230<
h.length;g={$jscomp$loop$prop$i$230:g.$jscomp$loop$prop$i$230,$jscomp$loop$prop$w_inp$229:g.$jscomp$loop$prop$w_inp$229,$jscomp$loop$prop$s_inp$231:g.$jscomp$loop$prop$s_inp$231},g.$jscomp$loop$prop$i$230++){var l=h[g.$jscomp$loop$prop$i$230];g.$jscomp$loop$prop$w_inp$229=document.createElement("INPUT");g.$jscomp$loop$prop$s_inp$231=document.createElement("INPUT");FlexLabel(l.name,a.div1);FlexInput("Wood",g.$jscomp$loop$prop$w_inp$229,f);FlexInput("Steel",g.$jscomp$loop$prop$s_inp$231,k);g.$jscomp$loop$prop$w_inp$229.min=
"0";g.$jscomp$loop$prop$s_inp$231.min="0";g.$jscomp$loop$prop$w_inp$229.onchange=function(a){return function(){b.rf.SetExternalWoodCount(a.$jscomp$loop$prop$i$230,a.$jscomp$loop$prop$w_inp$229.valueAsNumber)}}(g);g.$jscomp$loop$prop$s_inp$231.onchange=function(a){return function(){b.rf.SetExternalSteelCount(a.$jscomp$loop$prop$i$230,a.$jscomp$loop$prop$s_inp$231.valueAsNumber)}}(g);this.ext_wood_inp.push(g.$jscomp$loop$prop$w_inp$229);this.ext_steel_inp.push(g.$jscomp$loop$prop$s_inp$231)}this.wires=
document.createElement("INPUT");FlexCheckbox("Wires",this.wires,a);this.wires.onchange=function(){b.rf.SetWires(b.wires.checked)};FlexLabel("",c);FlexLabel("",d);FlexLabel("",e)};
Reinforcement_HTML.prototype.InitInternal=function(a){var b=this;a=CreateFlexSection(a);for(var c=this.rf.GetCantileverList(),d={$jscomp$loop$prop$i$233:0};d.$jscomp$loop$prop$i$233<c.length;d={$jscomp$loop$prop$i$233:d.$jscomp$loop$prop$i$233,$jscomp$loop$prop$inp$234:d.$jscomp$loop$prop$inp$234},d.$jscomp$loop$prop$i$233++){var e=c[d.$jscomp$loop$prop$i$233];d.$jscomp$loop$prop$inp$234=document.createElement("INPUT");FlexInput(e.name,d.$jscomp$loop$prop$inp$234,a);d.$jscomp$loop$prop$inp$234.min=
"0";d.$jscomp$loop$prop$inp$234.onchange=function(a){return function(){b.rf.SetCantileverCount(a.$jscomp$loop$prop$i$233,a.$jscomp$loop$prop$inp$234.valueAsNumber)}}(d);this.cant_inp.push(d.$jscomp$loop$prop$inp$234)}};
Reinforcement_HTML.prototype.InitStatDisplay=function(a){a.className="inner_table";var b=document.createElement("TABLE");b.className="inner_table";a.appendChild(b);a=b.insertRow();CreateTH(a,"Drag");CreateTH(a,"Mass");CreateTH(a,"Cost");a=b.insertRow();this.d_drag=a.insertCell();this.d_mass=a.insertCell();this.d_cost=a.insertCell();a=b.insertRow();CreateTH(a,"Structure");CreateTH(a,"Max Strain");CreateTH(a,"");b=b.insertRow();this.d_strc=b.insertCell();this.d_maxs=b.insertCell();this.d_none=b.insertCell()};
Reinforcement_HTML.prototype.UpdateDisplay=function(){this.wires.checked=this.rf.GetWires();for(var a=this.rf.GetExternalWoodCount(),b=0;b<a.length;b++)this.ext_wood_inp[b].valueAsNumber=a[b];a=this.rf.GetExternalSteelCount();for(b=0;b<a.length;b++)this.ext_steel_inp[b].valueAsNumber=a[b];a=this.rf.GetCantileverCount();for(b=0;b<a.length;b++)this.cant_inp[b].valueAsNumber=a[b];a=this.rf.PartStats();BlinkIfChanged(this.d_drag,a.drag.toString());BlinkIfChanged(this.d_mass,a.mass.toString());BlinkIfChanged(this.d_cost,
a.cost.toString());BlinkIfChanged(this.d_strc,a.structure.toString());BlinkIfChanged(this.d_maxs,a.maxstrain.toString())};var Load_HTML=function(a,b,c){Display.call(this);this.fuel=a;this.boom=b;this.cargo=c;this.fuel_list=[];a=document.getElementById("tbl_load").insertRow();this.InitFuel(a.insertCell());this.InitMunitions(a.insertCell());this.InitCargoAndPassengers(a.insertCell());this.InitStats(a.insertCell())};$jscomp.inherits(Load_HTML,Display);
Load_HTML.prototype.InitFuel=function(a){var b=this,c=this.fuel.GetTankList();a=CreateFlexSection(a);for(var d={$jscomp$loop$prop$i$236:0};d.$jscomp$loop$prop$i$236<c.length;d={$jscomp$loop$prop$i$236:d.$jscomp$loop$prop$i$236,$jscomp$loop$prop$inp$237:d.$jscomp$loop$prop$inp$237},d.$jscomp$loop$prop$i$236++)d.$jscomp$loop$prop$inp$237=document.createElement("INPUT"),FlexInput(c[d.$jscomp$loop$prop$i$236].name,d.$jscomp$loop$prop$inp$237,a),d.$jscomp$loop$prop$inp$237.onchange=function(a){return function(){b.fuel.SetTankCount(a.$jscomp$loop$prop$i$236,
a.$jscomp$loop$prop$inp$237.valueAsNumber)}}(d),this.fuel_list.push(d.$jscomp$loop$prop$inp$237);this.seal=document.createElement("INPUT");FlexCheckbox("Self-Sealing Gas Tank",this.seal,a);this.seal.onchange=function(){b.fuel.SetSelfSealing(b.seal.checked)};this.extinguish=document.createElement("INPUT");FlexCheckbox("Remote Fire Extinguisher",this.extinguish,a);this.extinguish.onchange=function(){b.fuel.SetExtinguisher(b.extinguish.checked)}};
Load_HTML.prototype.InitMunitions=function(a){var b=this;a=CreateFlexSection(a);this.bombs=document.createElement("INPUT");FlexInput("Bombs",this.bombs,a);this.bombs.onchange=function(){b.boom.SetBombCount(b.bombs.valueAsNumber)};this.rockets=document.createElement("INPUT");FlexInput("Rockets",this.rockets,a);this.rockets.onchange=function(){b.boom.SetRocketCount(b.rockets.valueAsNumber)};this.bay1=document.createElement("INPUT");FlexCheckbox("Internal Bay 1",this.bay1,a);this.bay1.onchange=function(){b.boom.SetUseBays(b.bay1.checked,
b.bay2.checked)};this.bay2=document.createElement("INPUT");FlexCheckbox("Internal Bay 2",this.bay2,a);this.bay2.onchange=function(){b.boom.SetUseBays(b.bay1.checked,b.bay2.checked)}};
Load_HTML.prototype.InitCargoAndPassengers=function(a){var b=this;a=CreateFlexSection(a);this.carg=document.createElement("INPUT");FlexInput("Cargo",this.carg,a);this.carg.onchange=function(){b.cargo.SetMass(b.carg.valueAsNumber)};this.pass=document.createElement("INPUT");FlexInput("Passengers",this.pass,a);this.pass.onchange=function(){b.cargo.SetPassengers(b.pass.valueAsNumber)}};
Load_HTML.prototype.InitStats=function(a){a.className="inner_table";var b=document.createElement("TABLE");b.className="inner_table";a.appendChild(b);a=b.insertRow();CreateTH(a,"Drag");CreateTH(a,"Mass");CreateTH(a,"Wet Mass");a=b.insertRow();this.d_drag=a.insertCell();this.d_mass=a.insertCell();this.d_wmas=a.insertCell();a=b.insertRow();CreateTH(a,"Required Sections");CreateTH(a,"Fuel");CreateTH(a,"Cost");b=b.insertRow();this.d_rsec=b.insertCell();this.d_fuel=b.insertCell();this.d_cost=b.insertCell()};
Load_HTML.prototype.UpdateDisplay=function(){for(var a=this.fuel.GetTankCount(),b=this.fuel.GetTankEnabled(),c=0;c<a.length;c++)this.fuel_list[c].valueAsNumber=a[c],this.fuel_list[c].disabled=!b[c];this.seal.checked=this.fuel.GetSelfSealing();this.seal.disabled=!this.fuel.GetSealingEnabled();this.extinguish.checked=this.fuel.GetExtinguisher();this.bombs.valueAsNumber=this.boom.GetBombCount();this.rockets.valueAsNumber=this.boom.GetRocketCount();this.bay1.checked=this.boom.GetBay1();this.bay2.checked=
this.boom.GetBay2();0<this.boom.GetBombCount()?(this.bay1.disabled=!1,this.bay2.disabled=this.bay1.checked?!1:!0):(this.bay1.disabled=!0,this.bay2.disabled=!0);this.carg.valueAsNumber=this.cargo.GetMass();this.pass.valueAsNumber=this.cargo.GetPassengers();a=this.fuel.PartStats();a=a.Add(this.boom.PartStats());a=a.Add(this.cargo.PartStats());BlinkIfChanged(this.d_drag,a.drag.toString());BlinkIfChanged(this.d_mass,a.mass.toString());BlinkIfChanged(this.d_wmas,a.wetmass.toString());BlinkIfChanged(this.d_rsec,
a.reqsections.toString());BlinkIfChanged(this.d_fuel,a.fuel.toString());BlinkIfChanged(this.d_cost,a.cost.toString())};var LandingGear_HTML=function(a){Display.call(this);this.gear=a;a=document.getElementById("tbl_gear").insertRow();this.InitGear(a.insertCell());this.InitExtras(a.insertCell());this.InitStats(a.insertCell())};$jscomp.inherits(LandingGear_HTML,Display);
LandingGear_HTML.prototype.InitGear=function(a){var b=this,c=this.gear.GetGearList();a=CreateFlexSection(a);this.sel=document.createElement("SELECT");FlexSelect("Type",this.sel,a);for(var d=0;d<c.length;d++){var e=document.createElement("OPTION");e.text=c[d].name;this.sel.add(e)}this.sel.onchange=function(){b.gear.SetGear(b.sel.selectedIndex)};this.retract=document.createElement("INPUT");FlexCheckbox("Retractable",this.retract,a);this.retract.onchange=function(){b.gear.SetRetract(b.retract.checked)}};
LandingGear_HTML.prototype.InitExtras=function(a){var b=this;this.extras=[];var c=this.gear.GetExtraList();a=CreateFlexSection(a);for(var d={$jscomp$loop$prop$i$239:0};d.$jscomp$loop$prop$i$239<c.length;d={$jscomp$loop$prop$i$239:d.$jscomp$loop$prop$i$239,$jscomp$loop$prop$cbx$240:d.$jscomp$loop$prop$cbx$240},d.$jscomp$loop$prop$i$239++)d.$jscomp$loop$prop$cbx$240=document.createElement("INPUT"),FlexCheckbox(c[d.$jscomp$loop$prop$i$239].name,d.$jscomp$loop$prop$cbx$240,a),d.$jscomp$loop$prop$cbx$240.onchange=
function(a){return function(){b.gear.SetExtraSelected(a.$jscomp$loop$prop$i$239,a.$jscomp$loop$prop$cbx$240.checked)}}(d),this.extras.push(d.$jscomp$loop$prop$cbx$240)};
LandingGear_HTML.prototype.InitStats=function(a){a.className="inner_table";var b=document.createElement("TABLE");b.className="inner_table";a.appendChild(b);a=b.insertRow();CreateTH(a,"Drag");CreateTH(a,"Mass");CreateTH(a,"Cost");a=b.insertRow();this.d_drag=a.insertCell();this.d_mass=a.insertCell();this.d_cost=a.insertCell();a=b.insertRow();CreateTH(a,"Structure");CreateTH(a,"Crash Safety");CreateTH(a,"");b=b.insertRow();this.d_strc=b.insertCell();this.d_crsh=b.insertCell();b.insertCell()};
LandingGear_HTML.prototype.UpdateDisplay=function(){this.sel.selectedIndex=this.gear.GetGear();this.retract.checked=this.gear.GetRetract();this.retract.disabled=!this.gear.CanRetract();for(var a=this.gear.GetExtraSelected(),b=0;b<a.length;b++)this.extras[b].checked=a[b];a=this.gear.PartStats();BlinkIfChanged(this.d_drag,a.drag.toString());BlinkIfChanged(this.d_mass,a.mass.toString());BlinkIfChanged(this.d_cost,a.cost.toString());BlinkIfChanged(this.d_strc,a.structure.toString());BlinkIfChanged(this.d_crsh,
a.crashsafety.toString())};var Accessories_HTML=function(a){Display.call(this);this.acc=a;a=document.getElementById("tbl_accessories");var b=a.insertRow(1);this.InitArmour(b.insertCell());this.InitElectrical(b.insertCell());this.InitInformation(b.insertCell());this.InitStats(b.insertCell());b=a.insertRow();this.InitVisibility(b.insertCell());this.InitClimate(b.insertCell());this.InitControl(b.insertCell())};$jscomp.inherits(Accessories_HTML,Display);
Accessories_HTML.prototype.InitArmour=function(a){var b=this;a=CreateFlexSection(a);this.a_coverage=document.createElement("INPUT");FlexInput("Coverage",this.a_coverage,a);this.a_coverage.onchange=function(){b.acc.SetArmourCoverage(b.a_coverage.valueAsNumber)};this.a_AP=document.createElement("INPUT");FlexInput("AP",this.a_AP,a);this.a_AP.onchange=function(){b.acc.SetArmourAP(b.a_AP.valueAsNumber)}};
Accessories_HTML.prototype.InitElectrical=function(a){var b=this;a=CreateFlexSection(a);this.radio=document.createElement("SELECT");FlexSelect("Radio",this.radio,a);for(var c=this.acc.GetRadioList(),d=0;d<c.length;d++){var e=document.createElement("OPTION");e.text=c[d].name;this.radio.add(e)}this.radio.onchange=function(){b.acc.SetRadioSel(b.radio.selectedIndex)};this.elect=[];c=this.acc.GetElectricalList();for(d={$jscomp$loop$prop$i$208$242:0};d.$jscomp$loop$prop$i$208$242<c.length;d={$jscomp$loop$prop$i$208$242:d.$jscomp$loop$prop$i$208$242,
$jscomp$loop$prop$inp$243:d.$jscomp$loop$prop$inp$243},d.$jscomp$loop$prop$i$208$242++)d.$jscomp$loop$prop$inp$243=document.createElement("INPUT"),FlexInput(c[d.$jscomp$loop$prop$i$208$242].name,d.$jscomp$loop$prop$inp$243,a),d.$jscomp$loop$prop$inp$243.onchange=function(a){return function(){b.acc.SetElectricalCount(a.$jscomp$loop$prop$i$208$242,a.$jscomp$loop$prop$inp$243.valueAsNumber)}}(d),this.elect.push(d.$jscomp$loop$prop$inp$243)};
Accessories_HTML.prototype.InitInformation=function(a){var b=this;a=CreateFlexSection(a);var c=this.acc.GetInfoList();this.info=[];for(var d={$jscomp$loop$prop$i$245:0};d.$jscomp$loop$prop$i$245<c.length;d={$jscomp$loop$prop$i$245:d.$jscomp$loop$prop$i$245,$jscomp$loop$prop$inp$246:d.$jscomp$loop$prop$inp$246},d.$jscomp$loop$prop$i$245++)d.$jscomp$loop$prop$inp$246=document.createElement("INPUT"),FlexCheckbox(c[d.$jscomp$loop$prop$i$245].name,d.$jscomp$loop$prop$inp$246,a),d.$jscomp$loop$prop$inp$246.onchange=
function(a){return function(){b.acc.SetInfoSel(a.$jscomp$loop$prop$i$245,a.$jscomp$loop$prop$inp$246.checked)}}(d),this.info.push(d.$jscomp$loop$prop$inp$246)};
Accessories_HTML.prototype.InitVisibility=function(a){var b=this;a=CreateFlexSection(a);var c=this.acc.GetVisibilityList();this.visi=[];for(var d={$jscomp$loop$prop$i$248:0};d.$jscomp$loop$prop$i$248<c.length;d={$jscomp$loop$prop$i$248:d.$jscomp$loop$prop$i$248,$jscomp$loop$prop$inp$249:d.$jscomp$loop$prop$inp$249},d.$jscomp$loop$prop$i$248++)d.$jscomp$loop$prop$inp$249=document.createElement("INPUT"),FlexCheckbox(c[d.$jscomp$loop$prop$i$248].name,d.$jscomp$loop$prop$inp$249,a),d.$jscomp$loop$prop$inp$249.onchange=
function(a){return function(){b.acc.SetVisibilitySel(a.$jscomp$loop$prop$i$248,a.$jscomp$loop$prop$inp$249.checked)}}(d),this.visi.push(d.$jscomp$loop$prop$inp$249)};
Accessories_HTML.prototype.InitClimate=function(a){var b=this;a=CreateFlexSection(a);var c=this.acc.GetClimateList();this.clim=[];for(var d={$jscomp$loop$prop$i$251:0};d.$jscomp$loop$prop$i$251<c.length;d={$jscomp$loop$prop$i$251:d.$jscomp$loop$prop$i$251,$jscomp$loop$prop$inp$252:d.$jscomp$loop$prop$inp$252},d.$jscomp$loop$prop$i$251++)d.$jscomp$loop$prop$inp$252=document.createElement("INPUT"),FlexCheckbox(c[d.$jscomp$loop$prop$i$251].name,d.$jscomp$loop$prop$inp$252,a),d.$jscomp$loop$prop$inp$252.onchange=
function(a){return function(){b.acc.SetClimateSel(a.$jscomp$loop$prop$i$251,a.$jscomp$loop$prop$inp$252.checked)}}(d),this.clim.push(d.$jscomp$loop$prop$inp$252)};
Accessories_HTML.prototype.InitControl=function(a){var b=this;a=CreateFlexSection(a);this.auto=document.createElement("SELECT");var c=this.acc.GetAutopilotList();FlexSelect("Autopilot",this.auto,a);for(var d=0;d<c.length;d++){var e=document.createElement("OPTION");e.text=c[d].name;this.auto.add(e)}this.auto.onchange=function(){b.acc.SetAutopilotSel(b.auto.selectedIndex)};c=this.acc.GetControlList();this.cont=document.createElement("SELECT");FlexSelect("Control Aids",this.cont,a);for(a=0;a<c.length;a++)d=
document.createElement("OPTION"),d.text=c[a].name,this.cont.add(d);this.cont.onchange=function(){b.acc.SetControlSel(b.cont.selectedIndex)}};
Accessories_HTML.prototype.InitStats=function(a){a.rowSpan=3;a.className="inner_table";var b=document.createElement("TABLE");b.className="inner_table";a.appendChild(b);a=b.insertRow();CreateTH(a,"Drag");CreateTH(a,"Mass");CreateTH(a,"Cost");a=b.insertRow();this.d_drag=a.insertCell();this.d_mass=a.insertCell();this.d_cost=a.insertCell();a=b.insertRow();CreateTH(a,"Structure");CreateTH(a,"Charge");CreateTH(a,"Lift Bleed");a=b.insertRow();this.d_strc=a.insertCell();this.d_chgh=a.insertCell();this.d_lift=
a.insertCell();a=b.insertRow();CreateTH(a,"Visibility");CreateTH(a,"Flight Stress");CreateTH(a,"");b=b.insertRow();this.d_visi=b.insertCell();this.d_strs=b.insertCell();b.insertCell()};
Accessories_HTML.prototype.UpdateDisplay=function(){this.a_coverage.valueAsNumber=this.acc.GetArmourCoverage();this.a_AP.valueAsNumber=this.acc.GetArmourAP();this.radio.selectedIndex=this.acc.GetRadioSel();for(var a=this.acc.GetElectricalCount(),b=0;b<a.length;b++)this.elect[b].valueAsNumber=a[b];a=this.acc.GetInfoSel();for(b=0;b<a.length;b++)this.info[b].checked=a[b];a=this.acc.GetVisibilitySel();for(b=0;b<a.length;b++)this.visi[b].checked=a[b];b=this.acc.GetClimateSel();for(var c=this.acc.GetClimateEnable(),
d=0;d<a.length;d++)this.clim[d].checked=b[d],this.clim[d].disabled=!c[d];this.auto.selectedIndex=this.acc.GetAutopilotSel();this.cont.selectedIndex=this.acc.GetControlSel();a=this.acc.PartStats();BlinkIfChanged(this.d_drag,a.drag.toString());BlinkIfChanged(this.d_mass,a.mass.toString());BlinkIfChanged(this.d_cost,a.cost.toString());BlinkIfChanged(this.d_strc,a.structure.toString());BlinkIfChanged(this.d_chgh,a.charge.toString());BlinkIfChanged(this.d_lift,a.liftbleed.toString());BlinkIfChanged(this.d_visi,
a.visibility.toString());BlinkIfChanged(this.d_strs,a.flightstress.toString())};
var Optimization_HTML=function(a){Display.call(this);var b=this;this.opt=a;this.free_inp=document.getElementById("num_opt");this.free_inp.onchange=function(){b.opt.SetFreeDots(b.free_inp.valueAsNumber)};a=document.getElementById("tbl_optimization");var c=a.insertRow();this.cost_cbx=this.InitRow(c,"Expense: +/- 10% Cost",function(a){return b.opt.SetCost(a)});this.bleed_cbx=this.InitRow(a.insertRow(),"Lift Efficienty: +/- 2 Lift Bleed",function(a){return b.opt.SetBleed(a)});this.escape_cbx=this.InitRow(a.insertRow(),
"Leg Room: +/- 1 Escape, Visibility",function(a){return b.opt.SetEscape(a)});this.mass_cbx=this.InitRow(a.insertRow(),"Mass: +/- 5% Mass",function(a){return b.opt.SetMass(a)});this.toughness_cbx=this.InitRow(a.insertRow(),"Redundancy: +/- 20% Toughness ",function(a){return b.opt.SetToughness(a)});this.maxstrain_cbx=this.InitRow(a.insertRow(),"Support: +/- 10% Max Strain",function(a){return b.opt.SetMaxStrain(a)});this.reliability_cbx=this.InitRow(a.insertRow(),"Reliability: +/- 2 Reliability",function(a){return b.opt.SetReliability(a)});
this.drag_cbx=this.InitRow(a.insertRow(),"Streamlining: +/- 5% Drag",function(a){return b.opt.SetDrag(a)});this.InitStatDisplay(c.insertCell())};$jscomp.inherits(Optimization_HTML,Display);
Optimization_HTML.prototype.InitRow=function(a,b,c){for(var d=[],e={$jscomp$loop$prop$i$255:0};6>e.$jscomp$loop$prop$i$255;e={$jscomp$loop$prop$i$255:e.$jscomp$loop$prop$i$255},e.$jscomp$loop$prop$i$255++)d.push(document.createElement("INPUT")),d[e.$jscomp$loop$prop$i$255].setAttribute("type","checkbox"),d[e.$jscomp$loop$prop$i$255].onchange=3>e.$jscomp$loop$prop$i$255?function(a){return function(){d[a.$jscomp$loop$prop$i$255].checked?c(a.$jscomp$loop$prop$i$255-3):c(a.$jscomp$loop$prop$i$255-2)}}(e):
function(a){return function(){d[a.$jscomp$loop$prop$i$255].checked?c(a.$jscomp$loop$prop$i$255-2):c(a.$jscomp$loop$prop$i$255-3)}}(e);e=a.insertCell();var f=a.insertCell();a=a.insertCell();e.appendChild(d[0]);e.appendChild(d[1]);e.appendChild(d[2]);f.innerHTML=b;a.appendChild(d[3]);a.appendChild(d[4]);a.appendChild(d[5]);return d};
Optimization_HTML.prototype.InitStatDisplay=function(a){a.rowSpan=0;a.className="inner_table";var b=document.createElement("TABLE");b.className="inner_table";a.appendChild(b);a=b.insertRow();CreateTH(a,"Cost");CreateTH(a,"Lift Bleed");CreateTH(a,"Escape");a=b.insertRow();this.d_cost=a.insertCell();this.d_lift=a.insertCell();this.d_escp=a.insertCell();a=b.insertRow();CreateTH(a,"Visibility");CreateTH(a,"Mass");CreateTH(a,"Toughness");a=b.insertRow();this.d_visi=a.insertCell();this.d_mass=a.insertCell();
this.d_tugh=a.insertCell();a=b.insertRow();CreateTH(a,"Max Strain");CreateTH(a,"Reliability");CreateTH(a,"Drag");b=b.insertRow();this.d_mstr=b.insertCell();this.d_reli=b.insertCell();this.d_drag=b.insertCell()};Optimization_HTML.prototype.UpdateChecked=function(a,b){for(var c=0;c<b.length;c++)b[c].checked=!1;0>a?(b[2].checked=!0,-1>a&&(b[1].checked=!0,-2>a&&(b[0].checked=!0))):0<a&&(b[3].checked=!0,1<a&&(b[4].checked=!0,2<a&&(b[5].checked=!0)))};
Optimization_HTML.prototype.UpdateEnabled=function(a,b){for(var c=0,d=3;d<b.length;d++)b[d].checked||c++,b[d].disabled=c>a};
Optimization_HTML.prototype.UpdateDisplay=function(){this.free_inp.valueAsNumber=this.opt.GetFreeDots();this.UpdateChecked(this.opt.GetCost(),this.cost_cbx);this.UpdateChecked(this.opt.GetBleed(),this.bleed_cbx);this.UpdateChecked(this.opt.GetEscape(),this.escape_cbx);this.UpdateChecked(this.opt.GetMass(),this.mass_cbx);this.UpdateChecked(this.opt.GetToughness(),this.toughness_cbx);this.UpdateChecked(this.opt.GetMaxStrain(),this.maxstrain_cbx);this.UpdateChecked(this.opt.GetReliabiilty(),this.reliability_cbx);
this.UpdateChecked(this.opt.GetDrag(),this.drag_cbx);var a=this.opt.GetUnassignedCount();this.UpdateEnabled(a,this.cost_cbx);this.UpdateEnabled(a,this.bleed_cbx);this.UpdateEnabled(a,this.escape_cbx);this.UpdateEnabled(a,this.mass_cbx);this.UpdateEnabled(a,this.toughness_cbx);this.UpdateEnabled(a,this.maxstrain_cbx);this.UpdateEnabled(a,this.reliability_cbx);this.UpdateEnabled(a,this.drag_cbx);a=this.opt.PartStats();BlinkIfChanged(this.d_cost,a.cost.toString());BlinkIfChanged(this.d_lift,a.liftbleed.toString());
BlinkIfChanged(this.d_escp,a.escape.toString());BlinkIfChanged(this.d_visi,a.visibility.toString());BlinkIfChanged(this.d_mass,a.mass.toString());BlinkIfChanged(this.d_tugh,a.toughness.toString());BlinkIfChanged(this.d_mstr,a.maxstrain.toString());BlinkIfChanged(this.d_reli,a.reliability.toString());BlinkIfChanged(this.d_drag,a.drag.toString())};
var Aircraft_HTML=function(a,b){Display.call(this);var c=this;this.acft=b;this.era=new Era_HTML(this.acft.GetEra());this.cockpits=new Cockpits_HTML(b.GetCockpits());this.passengers=new Passengers_HTML(b.GetPassengers());this.engines=new Engines_HTML(b.GetEngines());this.propeller=new Propeller_HTML(b.GetPropeller());this.frames=new Frames_HTML(b.GetFrames());this.wings=new Wings_HTML(b.GetWings());this.stabilizers=new Stabilizers_HTML(b.GetStabilizers());this.controlsurfaces=new ControlSurfaces_HTML(b.GetControlSurfaces());
this.reinforcements=new Reinforcement_HTML(b.GetReinforcements());this.load=new Load_HTML(b.GetFuel(),b.GetMunitions(),b.GetCargoAndPassengers());this.gear=new LandingGear_HTML(b.GetLandingGear());this.accessories=new Accessories_HTML(b.GetAccessories());this.optimization=new Optimization_HTML(b.GetOptimization());var d=document.getElementById("tbl_stats");this.InitStats(d);d=document.getElementById("tbl_derived");this.InitDerived(d);this.acft.SetDisplayCallback(function(){c.UpdateDisplay()});this.UpdateDisplay();
document.getElementById("acft_save").onclick=function(){download(JSON.stringify(c.acft.toJSON()),c.acft.name+"_"+c.acft.GetVersion()+".json","json")};var e=document.getElementById("acft_load");e.multiple=!1;e.accept="application/JSON";e.onchange=function(a){if(0!=e.files.length){a=e.files[0];var b=new FileReader;b.onloadend=function(){c.acft.fromJSON(JSON.parse(b.result))};b.readAsText(a);e.value=""}};document.getElementById("stats_copy").onclick=function(){copyStringToClipboard(c.copy_text)}};
$jscomp.inherits(Aircraft_HTML,Display);
Aircraft_HTML.prototype.InitStats=function(a){var b=a.insertRow();CreateTH(b,"Lift Bleed");CreateTH(b,"Drag");CreateTH(b,"Mass");CreateTH(b,"Wet Mass");CreateTH(b,"Bomb Mass");CreateTH(b,"Cost");CreateTH(b,"Upkeep");b=a.insertRow();this.d_lift=b.insertCell();this.d_drag=b.insertCell();this.d_mass=b.insertCell();this.d_wmas=b.insertCell();this.d_bmas=b.insertCell();this.d_cost=b.insertCell();this.d_upkp=b.insertCell();b=a.insertRow();CreateTH(b,"Control");CreateTH(b,"Pitch Stability");CreateTH(b,"Lateral Stability");
CreateTH(b,"Wing Area");CreateTH(b,"Max Strain");CreateTH(b,"Structure");CreateTH(b,"Toughness");b=a.insertRow();this.d_cont=b.insertCell();this.d_pstb=b.insertCell();this.d_lstb=b.insertCell();this.d_wara=b.insertCell();this.d_mstr=b.insertCell();this.d_strc=b.insertCell();this.d_tugh=b.insertCell();b=a.insertRow();CreateTH(b,"Power");CreateTH(b,"Fuel Consumption");CreateTH(b,"Fuel");CreateTH(b,"Pitch Speed");CreateTH(b,"Pitch Boost");CreateTH(b,"Charge");CreateTH(b,"Crash Safety");b=a.insertRow();
this.d_powr=b.insertCell();this.d_fcom=b.insertCell();this.d_fuel=b.insertCell();this.d_pspd=b.insertCell();this.d_pbst=b.insertCell();this.d_chrg=b.insertCell();this.d_crsh=b.insertCell()};
Aircraft_HTML.prototype.InitDerived=function(a){var b=this,c=a.insertRow(),d=c.insertCell();d.colSpan=5;this.name_inp=document.createElement("INPUT");this.name_inp.defaultValue="Aircraft Name";this.name_inp.onchange=function(){b.acft.name=b.name_inp.value};d.appendChild(this.name_inp);this.cost_cell=c.insertCell();CreateTH(c,"Version #");this.version_cell=c.insertCell();c=a.insertRow();CreateTH(c,"Mass Variations");CreateTH(c,"Top Speed");CreateTH(c,"Stall Speed");CreateTH(c,"Handling");CreateTH(c,
"Boost");CreateTH(c,"Vital Components").colSpan=3;c=a.insertRow();CreateTH(c,"Empty Mass");this.ts_empty=c.insertCell();this.ss_empty=c.insertCell();this.hand_empty=c.insertCell();this.boost_empty=c.insertCell();this.vital_components=c.insertCell();this.vital_components.rowSpan=3;this.vital_components.colSpan=3;c=a.insertRow();CreateTH(c,"Half Mass");this.ts_half=c.insertCell();this.ss_half=c.insertCell();this.hand_half=c.insertCell();this.boost_half=c.insertCell();c=a.insertRow();CreateTH(c,"Full Mass");
this.ts_full=c.insertCell();this.ss_full=c.insertCell();this.hand_full=c.insertCell();this.boost_full=c.insertCell();this.bomb_row1=a.insertRow();CreateTH(this.bomb_row1,"Half Mass with Bombs");this.ts_halfwB=this.bomb_row1.insertCell();this.ss_halfwB=this.bomb_row1.insertCell();this.hand_halfwB=this.bomb_row1.insertCell();this.boost_halfwB=this.bomb_row1.insertCell();this.bomb_row2=a.insertRow();CreateTH(this.bomb_row2,"Full Mass with Bombs");this.ts_fullwB=this.bomb_row2.insertCell();this.ss_fullwB=
this.bomb_row2.insertCell();this.hand_fullwB=this.bomb_row2.insertCell();this.boost_fullwB=this.bomb_row2.insertCell();c=a.insertRow();CreateTH(c,"Propulsion").colSpan=2;CreateTH(c,"Aerodynamics").colSpan=2;CreateTH(c,"Survivability").colSpan=2;CreateTH(c,"Propulsion").colSpan=2;c=a.insertRow();CreateTH(c,"Dropoff");this.dropoff_cell=c.insertCell();CreateTH(c,"Stability");this.stability_cell=c.insertCell();CreateTH(c,"Reliability");this.reliability_cell=c.insertCell();CreateTH(c,"Flight Stress");
this.flightstress_cell=c.insertCell();c=a.insertRow();CreateTH(c,"Overspeed");this.overspeed_cell=c.insertCell();CreateTH(c,"Energy Loss");this.eloss_cell=c.insertCell();CreateTH(c,"Toughness");this.toughness_cell=c.insertCell();CreateTH(c,"Visibiilty");this.visibility_cell=c.insertCell();c=a.insertRow();CreateTH(c,"Fuel Uses");this.maxfuel_cell=c.insertCell();CreateTH(c,"Turn Bleed");this.turnbleed_cell=c.insertCell();CreateTH(c,"Max Strain");this.mxstrain_cell=c.insertCell();CreateTH(c,"Attack Modifier");
this.attack_cell=c.insertCell();c=a.insertRow();CreateTH(c,"Cruise Range");this.cruiserange_cell=c.insertCell();CreateTH(c,"Landing Gear");this.landing_cell=c.insertCell();CreateTH(c,"Escape");this.escape_cell=c.insertCell();CreateTH(c,"Communications");this.communications_cell=c.insertCell();c=a.insertRow();CreateTH(c,"Cruise Range with Bombs");this.cruiserangewbomb_cell=c.insertCell();CreateTH(c,"Flight Ceiling");this.maxalt_cell=c.insertCell();CreateTH(c,"Crash Safety");this.crashsafety_cell=c.insertCell();
CreateTH(c,"Electrics");this.electric_cell=c.insertCell();CreateTH(a.insertRow(),"Special Rules").colSpan=8;this.warning_cell=a.insertRow().insertCell();this.warning_cell.colSpan=8};
Aircraft_HTML.prototype.UpdateStats=function(){var a=this.acft.GetStats();BlinkIfChanged(this.d_lift,a.liftbleed.toString());BlinkIfChanged(this.d_drag,a.drag.toString());BlinkIfChanged(this.d_mass,a.mass.toString());BlinkIfChanged(this.d_wmas,a.wetmass.toString());BlinkIfChanged(this.d_bmas,a.bomb_mass.toString());BlinkIfChanged(this.d_cost,a.cost.toString());BlinkIfChanged(this.d_upkp,a.upkeep.toString());BlinkIfChanged(this.d_cont,a.control.toString());BlinkIfChanged(this.d_pstb,a.pitchstab.toString());
BlinkIfChanged(this.d_lstb,a.latstab.toString());BlinkIfChanged(this.d_powr,a.power.toString());BlinkIfChanged(this.d_fcom,a.fuelconsumption.toString());BlinkIfChanged(this.d_fuel,a.fuel.toString());BlinkIfChanged(this.d_pspd,a.pitchspeed.toString());BlinkIfChanged(this.d_pbst,a.pitchboost.toString());BlinkIfChanged(this.d_wara,a.wingarea.toString());BlinkIfChanged(this.d_mstr,a.maxstrain.toString());BlinkIfChanged(this.d_strc,a.structure.toString());BlinkIfChanged(this.d_tugh,a.toughness.toString());
BlinkIfChanged(this.d_chrg,a.charge.toString());BlinkIfChanged(this.d_crsh,a.crashsafety.toString())};
Aircraft_HTML.prototype.UpdateDerived=function(){var a=this.acft.GetStats(),b=this.acft.GetDerivedStats();this.acft.name&&(this.name_inp.value=this.acft.name);this.copy_text=this.acft.name+"\n";this.version_cell.innerText=this.acft.GetVersion();this.copy_text+="Version "+this.acft.GetVersion()+"\n";this.cost_cell.innerText=a.cost.toString()+"\u00fe";this.copy_text+="Cost "+a.cost.toString()+"\u00fe\n";this.copy_text+="\n";this.copy_text+="Mass\t\t\tTop Speed\tStall Speed\tHandling\tBoost\n";this.ts_empty.innerText=
Math.floor(b.MaxSpeedEmpty).toString();this.ss_empty.innerText=b.StallSpeedEmpty.toString();this.hand_empty.innerText=b.HandlingEmpty.toString();this.boost_empty.innerText=b.BoostEmpty.toString();this.copy_text+="Empty Mass\t\t"+this.ts_empty.innerText+"\t\t"+this.ss_empty.innerText+"\t\t"+this.hand_empty.innerText+"\t\t"+this.boost_empty.innerText+"\n";this.ts_half.innerText=Math.floor((b.MaxSpeedEmpty+b.MaxSpeedFull)/2).toString();this.ss_half.innerText=Math.floor((b.StallSpeedEmpty+b.StallSpeedFull)/
2).toString();this.hand_half.innerText=Math.floor((b.HandlingEmpty+b.HandlingFull)/2).toString();this.boost_half.innerText=Math.floor((b.BoostEmpty+b.BoostFull)/2).toString();this.copy_text+="Half Mass\t\t"+this.ts_half.innerText+"\t\t"+this.ss_half.innerText+"\t\t"+this.hand_half.innerText+"\t\t"+this.boost_half.innerText+"\n";this.ts_full.innerText=Math.floor(b.MaxSpeedFull).toString();this.ss_full.innerText=b.StallSpeedFull.toString();this.hand_full.innerText=b.HandlingFull.toString();this.boost_full.innerText=
b.BoostFull.toString();this.copy_text+="Full Mass\t\t"+this.ts_full.innerText+"\t\t"+this.ss_full.innerText+"\t\t"+this.hand_full.innerText+"\t\t"+this.boost_full.innerText+"\n";this.copy_text+="\n";0<a.bomb_mass?(this.bomb_row1.hidden=!1,this.bomb_row2.hidden=!1,this.ts_halfwB.innerText=Math.floor((b.MaxSpeedEmpty+b.MaxSpeedwBombs)/2).toString(),this.ss_halfwB.innerText=Math.floor((b.StallSpeedEmpty+b.StallSpeedFullwBombs)/2).toString(),this.hand_halfwB.innerText=Math.floor((b.HandlingEmpty+b.HandlingFullwBombs)/
2).toString(),this.boost_halfwB.innerText=Math.floor((b.BoostEmpty+b.BoostFullwBombs)/2).toString(),this.copy_text+="Half Mass with Bombs\t"+this.ts_halfwB.innerText+"\t\t"+this.ss_halfwB.innerText+"\t\t"+this.hand_halfwB.innerText+"\t\t"+this.boost_halfwB.innerText+"\n",this.ts_fullwB.innerText=b.MaxSpeedwBombs.toString(),this.ss_fullwB.innerText=b.StallSpeedFullwBombs.toString(),this.hand_fullwB.innerText=b.HandlingFullwBombs.toString(),this.boost_fullwB.innerText=b.BoostFullwBombs.toString(),this.copy_text+=
"Full Mass with Bombs\t"+this.ts_fullwB.innerText+"\t\t"+this.ss_fullwB.innerText+"\t\t"+this.hand_fullwB.innerText+"\t\t"+this.boost_fullwB.innerText+"\n",this.copy_text+="\n"):(this.bomb_row1.hidden=!0,this.bomb_row2.hidden=!0);this.dropoff_cell.innerText=b.Dropoff.toString();this.overspeed_cell.innerText=b.Overspeed.toString();this.maxfuel_cell.innerText=(Math.round(10*b.FuelUses)/10).toString();this.cruiserange_cell.innerText=Math.round(b.CruiseRange).toString();this.cruiserangewbomb_cell.innerText=
Math.round(b.CruiseRangewBombs).toString();this.copy_text+="Propulsion\n\tDropoff\t"+this.dropoff_cell.innerText+"\n\tOverspeed\t"+this.overspeed_cell.innerText+"\n\tFuel Uses\t"+this.maxfuel_cell.innerText+"\n\tCruise Range\t"+this.cruiserange_cell.innerText+"\n\tCruise Range with Bombs\t"+this.cruiserangewbomb_cell.innerText+"\n";this.copy_text+="\n";this.stability_cell.innerText=b.Stabiilty.toString();this.eloss_cell.innerText=b.EnergyLoss.toString();this.turnbleed_cell.innerText=b.TurnBleed.toString();
this.landing_cell.innerText=this.acft.GetGearName();this.maxalt_cell.innerText=this.acft.GetMaxAltitude().toString();this.copy_text+="Aerodynamics\n\tStability\t"+this.stability_cell.innerText+"\n\tEnergy Loss\t"+this.eloss_cell.innerText+"\n\tTurn Bleed\t"+this.turnbleed_cell.innerText+"\n\tLanding Gear\t"+this.landing_cell.innerText+"\n\tFlight Ceiling\t"+this.maxalt_cell.innerText+"\n";this.copy_text+="\n";this.reliability_cell.innerText=this.acft.GetReliabilityList().toString();this.toughness_cell.innerText=
b.Toughness.toString();this.mxstrain_cell.innerText=b.MaxStrain.toString();this.escape_cell.innerText=this.acft.GetEscapeList().toString();this.crashsafety_cell.innerText=a.crashsafety.toString();this.copy_text+="Survivability\n\tReliability\t"+this.reliability_cell.innerText+"\n\tToughness\t"+this.toughness_cell.innerText+"\n\tMax Strain\t"+this.mxstrain_cell.innerText+"\n\tEscape\t"+this.escape_cell.innerText+"\n\tCrash Safety\t"+this.crashsafety_cell.innerText+"\n";this.copy_text+="\n";this.flightstress_cell.innerText=
this.acft.GetStressList().toString();this.visibility_cell.innerText=this.acft.GetVisibilityList().toString();this.attack_cell.innerText=this.acft.GetAttackList().toString();this.communications_cell.innerText=this.acft.GetCommunicationName();this.electric_cell.innerText=a.charge.toString();this.copy_text+="Ergonomics\n\tFlight Stress\t"+this.flightstress_cell.innerText+"\n\tVisibility\t"+this.visibility_cell.innerText+"\n\tAttack Modifier\t"+this.attack_cell.innerText+"\n\tCommunications\t"+this.communications_cell.innerText+
"\n\tElectrics\t"+this.electric_cell.innerText+"\n";this.copy_text+="\n";var c="Controls";this.copy_text+="Vital Components\n\tControls\n\t";0<b.FuelUses&&(c+="<br/>Fuel Tanks",this.copy_text+="Fuel Tanks\n\t");for(b=0;b<this.acft.GetEngines().GetNumberOfEngines();b++)c+="<br/>Engine #"+(b+1).toString(),this.copy_text+="Engine #"+(b+1).toString()+"\n\t";for(b=0;b<this.acft.GetEngines().GetNumberOfRadiators();b++)c+="<br/>Radiator #"+(b+1).toString(),this.copy_text+="Radiator #"+(b+1).toString()+"\n\t";
this.acft.GetEngines().GetHasOilTank()&&(c+="<br/>Oil Tank",this.copy_text+="Oil Tank\n\t");this.vital_components.innerHTML=c;this.copy_text+="\n";0<a.warnings.length&&(this.copy_text+="Special Rules\n\t");c="";a=$jscomp.makeIterator(a.warnings);for(b=a.next();!b.done;b=a.next())b=b.value,c+=b.source+":  "+b.warning+"<br/>",this.copy_text+=b.source+":  "+b.warning+"\n\t";this.warning_cell.innerHTML=c};
Aircraft_HTML.prototype.UpdateDisplay=function(){this.era.UpdateDisplay();this.cockpits.UpdateDisplay();this.passengers.UpdateDisplay();this.engines.UpdateDisplay();this.propeller.UpdateDisplay();this.frames.UpdateDisplay();this.wings.UpdateDisplay();this.stabilizers.UpdateDisplay();this.controlsurfaces.UpdateDisplay();this.reinforcements.UpdateDisplay();this.load.UpdateDisplay();this.gear.UpdateDisplay();this.accessories.UpdateDisplay();this.optimization.UpdateDisplay();this.UpdateStats();this.UpdateDerived()};
var loadJSON=function(a,b){var c=new XMLHttpRequest;c.overrideMimeType("application/json");c.open("GET",a,!0);c.onreadystatechange=function(){4===c.readyState&&200===c.status&&b(c.responseText)};c.send(null)},init=function(){loadJSON("/PlaneBuilder/parts.json",function(a){var b=window.localStorage.aircraft,c=JSON.parse(a);loadJSON("/PlaneBuilder/engines.json",function(a){engine_json=JSON.parse(a);aircraft_model=new Aircraft(c,engine_json,!0);aircraft_display=new Aircraft_HTML(c,aircraft_model);b&&
aircraft_model.fromJSON(JSON.parse(b))})})};window.onload=init;var engine_json,aircraft_model,aircraft_display;